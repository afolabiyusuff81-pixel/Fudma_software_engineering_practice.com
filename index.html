<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUDMA CBT Practice Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a3e 0%, #2d1b4e 50%, #1a1a3e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #ffffff;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .header {
            background: linear-gradient(135deg, #4a148c, #7b1fa2);
            padding: 40px 30px;
            text-align: center;
            border-bottom: 3px solid #ffd700;
        }

        .header h1 {
            color: #ffd700;
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header h2 {
            color: #ffffff;
            font-size: 20px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .header p {
            color: #e0e0e0;
            font-size: 14px;
        }

        .design-credit {
            display: inline-block;
            margin-top: 15px;
            padding: 8px 20px;
            background: rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            color: #ffd700;
            font-size: 13px;
            font-weight: 600;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .content {
            padding: 40px 30px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #ffd700;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #ffffff;
            font-size: 15px;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ffd700;
            background: rgba(255, 255, 255, 0.15);
        }

        .form-group input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #1a1a3e;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #7b1fa2, #9c27b0);
            color: #ffffff;
        }

        .btn-secondary:hover {
            box-shadow: 0 4px 12px rgba(123, 31, 162, 0.4);
        }

        .forgot-link {
            text-align: right;
            margin-top: 10px;
        }

        .forgot-link a {
            color: #00e5ff;
            text-decoration: none;
            font-size: 13px;
        }

        .forgot-link a:hover {
            text-decoration: underline;
        }

        .course-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .course-card {
            background: linear-gradient(135deg, #7b1fa2, #4a148c);
            padding: 30px 20px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            border: 2px solid rgba(255, 215, 0, 0.3);
            transition: all 0.3s;
        }

        .course-card:hover {
            transform: translateY(-5px);
            border-color: #ffd700;
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.3);
        }

        .course-card h3 {
            color: #ffd700;
            font-size: 20px;
            margin-bottom: 10px;
        }

        .course-card p {
            color: #e0e0e0;
            font-size: 14px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid rgba(255, 215, 0, 0.2);
        }

        .stat-card h3 {
            color: #ffd700;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .stat-card p {
            color: #ffffff;
            font-size: 32px;
            font-weight: 700;
        }

        .welcome-msg {
            margin-bottom: 30px;
        }

        .welcome-msg h2 {
            color: #ffd700;
            font-size: 24px;
            margin-bottom: 8px;
        }

        .welcome-msg p {
            color: #e0e0e0;
            font-size: 15px;
        }

        .config-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin: 30px 0;
        }

        .config-section h3 {
            color: #ffd700;
            margin-bottom: 15px;
            text-align: center;
            font-size: 18px;
        }

        .option-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .option-btn {
            padding: 10px 20px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #ffd700;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .option-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
        }

        .option-btn.selected {
            background: #ffd700;
            color: #1a1a3e;
            border-color: #ffd700;
        }

        .question-box {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 2px solid rgba(255, 215, 0, 0.2);
        }

        .question-num {
            color: #ffd700;
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .question-text {
            color: #ffffff;
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-item {
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            color: #ffffff;
        }

        .option-item:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: #ffd700;
        }

        .option-item.selected {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #1a1a3e;
            border-color: #ffd700;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #00e5ff);
            transition: width 0.3s;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .nav-buttons button {
            flex: 1;
        }

        .timer {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #1a1a3e;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 24px;
            font-weight: 700;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
            display: none;
        }

        .top-buttons {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .top-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #7b1fa2, #9c27b0);
            color: #ffffff;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: none;
        }

        .top-btn:hover {
            box-shadow: 0 4px 12px rgba(123, 31, 162, 0.4);
        }

        .results-box {
            text-align: center;
            padding: 40px 20px;
        }

        .results-box h2 {
            color: #ffd700;
            font-size: 28px;
            margin-bottom: 30px;
        }

        .score-display {
            width: 200px;
            height: 200px;
            margin: 0 auto 30px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: #1a1a3e;
            box-shadow: 0 8px 24px rgba(255, 215, 0, 0.4);
        }

        .score-display .percentage {
            font-size: 48px;
            font-weight: 700;
        }

        .score-display .label {
            font-size: 16px;
            margin-top: 5px;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .result-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid rgba(255, 215, 0, 0.2);
        }

        .result-item h4 {
            color: #ffd700;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .result-item p {
            font-size: 28px;
            font-weight: 700;
        }

        .review-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 2px solid rgba(255, 215, 0, 0.2);
        }

        .review-item h4 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .review-option {
            padding: 12px 15px;
            margin: 8px 0;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.03);
        }

        .review-option.correct {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4caf50;
            color: #4caf50;
        }

        .review-option.wrong {
            background: rgba(244, 67, 54, 0.2);
            border: 2px solid #f44336;
            color: #f44336;
        }

        .history-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            overflow: hidden;
        }

        .history-table thead {
            background: linear-gradient(135deg, #7b1fa2, #4a148c);
        }

        .history-table th {
            padding: 15px;
            text-align: left;
            color: #ffd700;
            font-weight: 600;
        }

        .history-table td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
            color: #e0e0e0;
        }

        .history-table tr:hover {
            background: rgba(255, 215, 0, 0.05);
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #ffd700;
            font-size: 16px;
        }

        .page-title {
            text-align: center;
            color: #ffd700;
            font-size: 24px;
            margin-bottom: 30px;
        }

        .course-info {
            text-align: center;
            color: #e0e0e0;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .stats-grid,
            .results-grid {
                grid-template-columns: 1fr;
            }

            .config-grid {
                grid-template-columns: 1fr;
            }

            .course-grid {
                grid-template-columns: 1fr;
            }

            .timer {
                top: 10px;
                right: 10px;
                font-size: 18px;
                padding: 10px 15px;
            }

            .top-buttons {
                top: 10px;
                left: 10px;
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="top-buttons">
        <button class="top-btn" id="logoutBtn" onclick="handleLogout()">Logout</button>
        <button class="top-btn" id="historyBtn" onclick="showHistory()">History</button>
    </div>

    <div class="timer" id="timer">00:00</div>

    <div class="container">
        <div class="header">
            <h1>üéì FUDMA SOFTWARE ENGINEERING</h1>
            <h2>CBT PRACTICE PORTAL</h2>
            <p>Federal University Dutsin-Ma, Katsina State</p>
            <div class="design-credit">Designed by Software Engineering Students</div>
        </div>

        <div class="content">
            <!-- Auth Section -->
            <div class="section active" id="authSection">
                <h2 class="page-title">Welcome! Please Login or Register</h2>
                
                <div id="loginForm">
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="loginEmail" placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter your password">
                    </div>
                    <div class="forgot-link">
                        <a href="#" onclick="resetPassword()">Forgot Password?</a>
                    </div>
                    <button class="btn" onclick="handleLogin()">Login</button>
                    <button class="btn btn-secondary" onclick="showRegister()">Register New Account</button>
                </div>

                <div id="registerForm" style="display: none;">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="regName" placeholder="Enter your full name">
                    </div>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="regEmail" placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="regPassword" placeholder="Create password (min 6 characters)">
                    </div>
                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input type="password" id="regConfirmPassword" placeholder="Confirm your password">
                    </div>
                    <button class="btn" onclick="handleRegister()">Register</button>
                    <button class="btn btn-secondary" onclick="showLogin()">Back to Login</button>
                </div>
            </div>

            <!-- Course Selection -->
            <div class="section" id="courseSection">
                <div class="welcome-msg">
                    <h2>Welcome, <span id="userName"></span>!</h2>
                    <p>Select a course to begin your practice session</p>
                </div>

                <div class="stats-grid" id="statsGrid"></div>

                <div class="course-grid">
                    <div class="course-card" onclick="selectCourse('COS101')">
                        <h3>COS 101</h3>
                        <p>Introduction to Computing</p>
                        <p style="margin-top: 10px; font-size: 12px;">50 Questions</p>
                    </div>
                    <div class="course-card" onclick="selectCourse('PHY101')">
                        <h3>PHY 101</h3>
                        <p>General Physics I</p>
                        <p style="margin-top: 10px; font-size: 12px;">50 Questions</p>
                    </div>
                    <div class="course-card" onclick="selectCourse('CSC101')">
                        <h3>CSC 101</h3>
                        <p>Computer Installation</p>
                        <p style="margin-top: 10px; font-size: 12px;">50 Questions</p>
                    </div>
                    <div class="course-card" onclick="selectCourse('MTH101')">
                        <h3>MTH 101</h3>
                        <p>Elementary Mathematics</p>
                        <p style="margin-top: 10px; font-size: 12px;">50 Questions</p>
                    </div>
                    <div class="course-card" onclick="selectCourse('BIO101')">
                        <h3>BIO 101</h3>
                        <p>General Biology I</p>
                        <p style="margin-top: 10px; font-size: 12px;">100 Questions</p>
                    </div>
                    <div class="course-card" onclick="selectCourse('CHS101')">
                        <h3>CHS 101</h3>
                        <p>Security Management</p>
                        <p style="margin-top: 10px; font-size: 12px;">25 Questions</p>
                    </div>
                    <div class="course-card" onclick="selectCourse('CHM101')">
                        <h3>CHM 101</h3>
                        <p>Chemistry Fundamentals</p>
                        <p style="margin-top: 10px; font-size: 12px;">32 Questions</p>
                    </div>
                </div>
            </div>

            <!-- Test Config -->
            <div class="section" id="configSection">
                <h2 class="page-title">Configure Your Test</h2>
                <p class="course-info">Course: <strong id="courseName"></strong></p>

                <div class="config-grid">
                    <div class="config-section">
                        <h3>Number of Questions</h3>
                        <div class="option-buttons" id="questionBtns">
                            <button class="option-btn" onclick="selectQuestions(10)">10</button>
                            <button class="option-btn" onclick="selectQuestions(20)">20</button>
                            <button class="option-btn" onclick="selectQuestions(30)">30</button>
                            <button class="option-btn" onclick="selectQuestions(40)">40</button>
                            <button class="option-btn" onclick="selectQuestions(50)">50</button>
                        </div>
                    </div>

                    <div class="config-section">
                        <h3>Timer (Minutes)</h3>
                        <div class="option-buttons" id="timerBtns">
                            <button class="option-btn" onclick="selectTime(5)">5</button>
                            <button class="option-btn" onclick="selectTime(10)">10</button>
                            <button class="option-btn" onclick="selectTime(15)">15</button>
                            <button class="option-btn" onclick="selectTime(20)">20</button>
                            <button class="option-btn" onclick="selectTime(30)">30</button>
                        </div>
                    </div>
                </div>

                <button class="btn" onclick="startTest()">Start Test</button>
                <button class="btn btn-secondary" onclick="backToCourses()">Back to Courses</button>
            </div>

            <!-- Test Section -->
            <div class="section" id="testSection">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress"></div>
                </div>

                <div class="question-box">
                    <div class="question-num" id="questionNum"></div>
                    <div class="question-text" id="questionText"></div>
                    <div class="options-list" id="optionsList"></div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevQuestion()" id="prevBtn">Previous</button>
                    <button class="btn" onclick="nextQuestion()" id="nextBtn">Next</button>
                </div>
            </div>

            <!-- Results Section -->
            <div class="section" id="resultsSection">
                <div class="results-box">
                    <h2>Test Completed! üéâ</h2>
                    
                    <div class="score-display">
                        <div class="percentage" id="scorePercent">0%</div>
                        <div class="label">Score</div>
                    </div>

                    <div class="results-grid">
                        <div class="result-item">
                            <h4>Correct</h4>
                            <p id="correctCount" style="color: #4caf50;">0</p>
                        </div>
                        <div class="result-item">
                            <h4>Wrong</h4>
                            <p id="wrongCount" style="color: #f44336;">0</p>
                        </div>
                        <div class="result-item">
                            <h4>Total</h4>
                            <p id="totalCount">0</p>
                        </div>
                    </div>

                    <button class="btn" onclick="showReview()">Review Answers</button>
                    <button class="btn btn-secondary" onclick="backToCourses()">Take Another Test</button>
                </div>
            </div>

            <!-- Review Section -->
            <div class="section" id="reviewSection">
                <h2 class="page-title">Answer Review</h2>
                <div id="reviewContent"></div>
                <button class="btn btn-secondary" onclick="showResults()">Back to Results</button>
                <button class="btn" onclick="backToCourses()">Take Another Test</button>
            </div>

            <!-- History Section -->
            <div class="section" id="historySection">
                <h2 class="page-title">Your Test History</h2>
                <div id="historyContent">
                    <div class="loading">Loading history...</div>
                </div>
                <button class="btn btn-secondary" onclick="backToCourses()">Back to Courses</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyC5uF795h9jkPmVFu_-jS7npbrFIHSZ26E",
            authDomain: "fudma-cbt-portal.firebaseapp.com",
            projectId: "fudma-cbt-portal",
            storageBucket: "fudma-cbt-portal.firebasestorage.app",
            messagingSenderId: "587587261232",
            appId: "1:587587261232:web:73ba6ded2879d94f03aef5"
        };

        let auth, db;
        try {
            firebase.initializeApp(firebaseConfig);
            auth = firebase.auth();
            db = firebase.firestore();
        } catch (error) {
            console.error("Firebase error:", error);
        }

        // Question Bank
        const questions = {
            COS101: [
                {q: "Who is the father of computing?", opts: ["Charles Babbage", "Alan Turing", "John von Neumann", "Bill Gates"], ans: 0},
                {q: "What does ENIAC stand for?", opts: ["Electronic Numerical Integrator and Calculator", "Electronic Network Integration", "Enhanced Numerical Integration", "Electronic Number Calculator"], ans: 0},
                {q: "Vacuum tubes were used in which generation?", opts: ["First", "Second", "Third", "Fourth"], ans: 0},
                {q: "Transistors were introduced in which generation?", opts: ["First", "Second", "Third", "Fourth"], ans: 1},
                {q: "Third generation computers used?", opts: ["Vacuum tubes", "Transistors", "Integrated Circuits", "Microprocessors"], ans: 2},
                {q: "Microprocessors introduced in which generation?", opts: ["Second", "Third", "Fourth", "Fifth"], ans: 2},
                {q: "AI stands for?", opts: ["Automated Intelligence", "Artificial Intelligence", "Advanced Integration", "Automated Integration"], ans: 1},
                {q: "First commercial computer?", opts: ["ENIAC", "UNIVAC I", "IBM 701", "EDVAC"], ans: 1},
                {q: "Who invented the World Wide Web?", opts: ["Bill Gates", "Steve Jobs", "Tim Berners-Lee", "Mark Zuckerberg"], ans: 2},
                {q: "First personal computer year?", opts: ["1971", "1975", "1981", "1985"], ans: 1},
                {q: "VLSI stands for?", opts: ["Very Large Scale Integration", "Very Low Speed Integration", "Virtual Large Scale Integration", "Visible Integration"], ans: 0},
                {q: "First computer programmer?", opts: ["Charles Babbage", "Ada Lovelace", "Alan Turing", "John von Neumann"], ans: 1},
                {q: "IBM stands for?", opts: ["International Business Machines", "Internet Business Machines", "International Binary Machines", "Internet Binary Machines"], ans: 0},
                {q: "CPU stands for?", opts: ["Central Processing Unit", "Computer Processing Unit", "Central Program Unit", "Computer Program Unit"], ans: 0},
                {q: "RAM stands for?", opts: ["Random Access Memory", "Read Access Memory", "Random Array Memory", "Read Array Memory"], ans: 0},
                {q: "ROM stands for?", opts: ["Random Only Memory", "Read Only Memory", "Random Order Memory", "Read Order Memory"], ans: 1},
                {q: "Brain of computer?", opts: ["RAM", "ROM", "CPU", "Hard Drive"], ans: 2},
                {q: "GUI stands for?", opts: ["Graphical User Interface", "General User Interface", "Graphical Universal Interface", "General Universal Interface"], ans: 0},
                {q: "Smallest unit of data?", opts: ["Byte", "Bit", "Nibble", "Word"], ans: 1},
                {q: "Bits in a byte?", opts: ["4", "8", "16", "32"], ans: 1},
                {q: "HTML stands for?", opts: ["HyperText Markup Language", "HyperText Machine Language", "HighText Markup Language", "HyperText Modern Language"], ans: 0},
                {q: "URL stands for?", opts: ["Universal Resource Locator", "Uniform Resource Locator", "Universal Reference Locator", "Uniform Reference Locator"], ans: 1},
                {q: "Operating system is?", opts: ["Application software", "System software", "Hardware", "Firmware"], ans: 1},
                {q: "Example of OS?", opts: ["MS Word", "Windows", "Chrome", "Excel"], ans: 1},
                {q: "HTTP stands for?", opts: ["HyperText Transfer Protocol", "HyperText Translation Protocol", "HighText Transfer Protocol", "HyperText Transmission Protocol"], ans: 0},
                {q: "Browser is?", opts: ["Operating system", "Web accessing app", "Programming language", "Database"], ans: 1},
                {q: "Example of browser?", opts: ["Windows", "Chrome", "Linux", "Android"], ans: 1},
                {q: "Computer virus is?", opts: ["Hardware problem", "Malicious software", "Operating system", "Printer error"], ans: 1},
                {q: "Software is?", opts: ["Physical components", "Programs and data", "Monitor", "Keyboard"], ans: 1},
                {q: "Hardware is?", opts: ["Programs", "Physical components", "Data", "Files"], ans: 1},
                {q: "Input device?", opts: ["Monitor", "Keyboard", "Printer", "Speaker"], ans: 1},
                {q: "Output device?", opts: ["Mouse", "Scanner", "Monitor", "Microphone"], ans: 2},
                {q: "LAN stands for?", opts: ["Local Area Network", "Large Area Network", "Limited Area Network", "Long Area Network"], ans: 0},
                {q: "WAN stands for?", opts: ["Wide Area Network", "Wireless Area Network", "World Area Network", "Web Area Network"], ans: 0},
                {q: "Compiler purpose?", opts: ["Run programs", "Translate code", "Store data", "Display output"], ans: 1},
                {q: "Algorithm is?", opts: ["Programming language", "Step-by-step procedure", "Computer hardware", "Software application"], ans: 1},
                {q: "Binary digits?", opts: ["2", "8", "10", "16"], ans: 0},
                {q: "Hexadecimal digits?", opts: ["2", "8", "10", "16"], ans: 3},
                {q: "Database is?", opts: ["Hardware device", "Organized data collection", "Programming language", "Operating system"], ans: 1},
                {q: "SQL stands for?", opts: ["Standard Query Language", "Structured Query Language", "Simple Query Language", "System Query Language"], ans: 1},
                {q: "Cloud computing?", opts: ["Local storage", "Internet-based computing", "Hardware upgrade", "Software installation"], ans: 1},
                {q: "IP address?", opts: ["Internet Protocol address", "Internal Processing address", "Internet Processing address", "Internal Protocol address"], ans: 0},
                {q: "PDF stands for?", opts: ["Portable Document Format", "Public Document Format", "Private Document Format", "Personal Document Format"], ans: 0},
                {q: "Encryption is?", opts: ["Data compression", "Data security method", "Data deletion", "Data backup"], ans: 1},
                {q: "Firewall is?", opts: ["Hardware component", "Security system", "Software application", "Network cable"], ans: 1},
                {q: "USB stands for?", opts: ["Universal Serial Bus", "Universal System Bus", "United Serial Bus", "United System Bus"], ans: 0},
                {q: "Bandwidth is?", opts: ["Data transfer rate", "Storage capacity", "Processing speed", "Screen resolution"], ans: 0},
                {q: "Malware is?", opts: ["Good software", "Malicious software", "System software", "Application software"], ans: 1},
                {q: "Phishing is?", opts: ["Cyber attack method", "Programming technique", "Hardware issue", "Software update"], ans: 0},
                {q: "VPN stands for?", opts: ["Virtual Private Network", "Virtual Public Network", "Visual Private Network", "Visual Public Network"], ans: 0}
            ],
            PHY101: [{q: "SI unit of force?", opts: ["Joule", "Newton", "Watt", "Pascal"], ans: 1}, {q: "Acceleration due to gravity?", opts: ["9.8 m/s¬≤", "10 m/s¬≤", "8.9 m/s¬≤", "11 m/s¬≤"], ans: 0}, {q: "Newton's first law?", opts: ["Law of inertia", "Law of acceleration", "Law of action", "Law of momentum"], ans: 0}, {q: "Kinetic energy formula?", opts: ["mgh", "1/2 mv¬≤", "mv", "Fd"], ans: 1}, {q: "SI unit of work?", opts: ["Newton", "Joule", "Watt", "Pascal"], ans: 1}, {q: "Power definition?", opts: ["Work/Time", "Force√óDistance", "Mass√óVelocity", "Force√óTime"], ans: 0}, {q: "Momentum?", opts: ["Mass√óVelocity", "Mass√óAcceleration", "Force√óTime", "Work/Time"], ans: 0}, {q: "SI unit of pressure?", opts: ["Newton", "Pascal", "Joule", "Watt"], ans: 1}, {q: "Speed of light?", opts: ["3√ó10‚Å∏ m/s", "3√ó10‚Å∂ m/s", "3√ó10‚Å∑ m/s", "3√ó10‚Åπ m/s"], ans: 0}, {q: "F = ma?", opts: ["First Law", "Second Law", "Third Law", "Gravitation"], ans: 1}, {q: "Fundamental quantity?", opts: ["Velocity", "Pressure", "Mass", "Force"], ans: 2}, {q: "Luminous intensity unit?", opts: ["Lux", "Lumen", "Candela", "Watt"], ans: 2}, {q: "Derived quantity?", opts: ["Time", "Length", "Mass", "Velocity"], ans: 3}, {q: "Pressure SI unit?", opts: ["Pascal", "Newton", "Joule", "Watt"], ans: 0}, {q: "Not base SI unit?", opts: ["Kilogram", "Second", "Radian", "Mole"], ans: 2}, {q: "Dimensionless quantity?", opts: ["Acceleration", "Strain", "Force", "Pressure"], ans: 1}, {q: "Electric charge unit?", opts: ["Ampere", "Coulomb", "Volt", "Ohm"], ans: 1}, {q: "Incorrect pair?", opts: ["Hertz‚ÄìFrequency", "Tesla‚ÄìFlux", "Farad‚ÄìCapacitance", "Watt‚ÄìPower"], ans: 1}, {q: "Pressure dimension?", opts: ["ML‚Åª¬πT‚Åª¬≤", "MLT‚Åª¬≤", "MLT‚Åª¬π", "M¬≤L¬≤T‚Åª¬≤"], ans: 0}, {q: "Energy unit?", opts: ["Watt", "Joule", "Newton", "Pascal"], ans: 1}, {q: "Potential difference unit?", opts: ["Ampere", "Coulomb", "Volt", "Ohm"], ans: 2}, {q: "Magnetic flux unit?", opts: ["Tesla", "Weber", "Henry", "Farad"], ans: 1}, {q: "Not derived unit?", opts: ["Newton", "Joule", "Kilogram", "Pascal"], ans: 2}, {q: "Acceleration dimension?", opts: ["LT‚Åª¬≤", "L¬≤T‚Åª¬≤", "MT‚Åª¬≤", "MLT‚Åª¬π"], ans: 0}, {q: "Power SI unit?", opts: ["Joule", "Watt", "Newton", "Volt"], ans: 1}, {q: "Surface tension dimension?", opts: ["MT‚Åª¬≤", "ML‚Åª¬πT‚Åª¬≤", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≤"], ans: 0}, {q: "Viscosity dimension?", opts: ["ML‚Åª¬πT‚Åª¬π", "MLT‚Åª¬≤", "MLT‚Åª¬π", "ML¬≤T‚Åª¬≤"], ans: 0}, {q: "Gravitational constant dimension?", opts: ["M‚Åª¬πL¬≥T‚Åª¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≤", "M¬≤L‚Åª¬≤T‚Åª¬≤"], ans: 0}, {q: "Specific heat unit?", opts: ["Jkg‚Åª¬πK‚Åª¬π", "Jm‚Åª¬πK‚Åª¬π", "JkgK", "JmK‚Åª¬π"], ans: 0}, {q: "Incorrect dimension?", opts: ["Charge‚ÄìTI", "Resistance‚ÄìML¬≤T‚Åª¬≥I‚Åª¬≤", "Field‚ÄìMLT‚Åª¬≥I‚Åª¬π", "Capacitance‚ÄìM‚Åª¬πL‚Åª¬≤T‚Å¥I¬≤"], ans: 0}, {q: "Inductance dimension?", opts: ["ML¬≤T‚Åª¬≤I‚Åª¬≤", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≥", "M‚Åª¬πL¬≤T¬≤"], ans: 0}, {q: "Magnetic field dimension?", opts: ["L‚Åª¬πI", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≥"], ans: 0}, {q: "Electric power dimension?", opts: ["ML¬≤T‚Åª¬≥", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≥"], ans: 0}, {q: "Capacitance dimension?", opts: ["M‚Åª¬πL‚Åª¬≤T‚Å¥I¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≤", "ML‚Åª¬πT‚Åª¬≤"], ans: 0}, {q: "Potential dimension?", opts: ["ML¬≤T‚Åª¬≥I‚Åª¬π", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≥"], ans: 0}, {q: "Scalar quantity?", opts: ["Force", "Acceleration", "Pressure", "Displacement"], ans: 2}, {q: "Vector quantity?", opts: ["Time", "Mass", "Velocity", "Temperature"], ans: 2}, {q: "Unit vector magnitude?", opts: ["0", "1", "‚àö2", "Undefined"], ans: 1}, {q: "i √ó j =?", opts: ["i", "j", "k", "0"], ans: 2}, {q: "i ¬∑ i =?", opts: ["0", "1", "-1", "k"], ans: 1}, {q: "(3i+2j) + (2i+4j) =?", opts: ["5i+6j", "i-2j", "6i+8j", "3i+2j"], ans: 0}, {q: "(5i-3j) - (2i+4j) =?", opts: ["3i-7j", "7i+j", "-3i+7j", "3i+j"], ans: 0}, {q: "|3i+4j| =?", opts: ["5", "7", "1", "25"], ans: 0}, {q: "Perpendicular vectors dot?", opts: ["1", "0", "-1", "Undefined"], ans: 1}, {q: "Parallel vectors cross?", opts: ["Maximum", "Zero", "Negative", "Undefined"], ans: 1}, {q: "(2i+3j+k)¬∑(-4i+2j-k) =?", opts: ["-3", "3", "0", "5"], ans: 0}, {q: "Angle between vectors uses?", opts: ["Cross", "Sum", "Dot", "Difference"], ans: 2}, {q: "(2i-j+k)√ó(i+2j-2k) =?", opts: ["5j+5k", "-j+3k", "5j-5k", "5j+k"], ans: 2}, {q: "|A√óB| =?", opts: ["AB cosŒ∏", "AB sinŒ∏", "A+B", "A-B"], ans: 1}, {q: "Vector addition is?", opts: ["Not associative", "Not commutative", "Both", "Distributive only"], ans: 2}],
            CSC101: [{q: "PC stands for?", opts: ["Personal Computer", "Public Computer", "Private Computer", "Professional Computer"], ans: 0}, {q: "Motherboard is?", opts: ["Main circuit board", "Power supply", "Storage device", "Display unit"], ans: 0}, {q: "BIOS stands for?", opts: ["Basic Input Output System", "Binary Input Output System", "Basic Internal OS", "Binary Internal OS"], ans: 0}, {q: "RAM function?", opts: ["Temporary storage", "Permanent storage", "Processing", "Display"], ans: 0}, {q: "Hard disk is?", opts: ["Storage device", "Input device", "Output device", "Processing unit"], ans: 0}, {q: "SSD stands for?", opts: ["Solid State Drive", "Super Storage Drive", "System State Drive", "Solid Storage Device"], ans: 0}, {q: "Power supply purpose?", opts: ["Provide electricity", "Store data", "Process info", "Display output"], ans: 0}, {q: "GPU stands for?", opts: ["Graphics Processing Unit", "General Processing Unit", "Graphics Program Unit", "General Program Unit"], ans: 0}, {q: "IPO model?", opts: ["Input-Program-Output", "Input-Process-Output", "Instruction-Processing-Operation", "Input-Peripheral-Output"], ans: 1}, {q: "Data vs information?", opts: ["Data processed; info raw", "Data numeric; info text", "Data raw; info meaningful", "Data stored; info deleted"], ans: 2}, {q: "Most error-prone processing?", opts: ["Mechanical", "Manual", "Computerized", "Automated"], ans: 1}, {q: "Mechanical processing limit?", opts: ["Needs programming", "Can't use in offices", "Noisy and error-prone", "Too fast"], ans: 2}, {q: "First microcomputer year?", opts: ["1965", "1975", "1985", "1995"], ans: 1}, {q: "NOT EDP benefit?", opts: ["Speed", "Accuracy", "Manual entry", "Reliability"], ans: 2}, {q: "Program is?", opts: ["Hardware type", "Instruction sequence", "Storage unit", "Peripheral"], ans: 1}, {q: "CAI example?", opts: ["ATM", "Smart board", "Antivirus", "BIOS"], ans: 1}, {q: "MYCIN used in?", opts: ["Education", "Entertainment", "Medical diagnosis", "Gaming"], ans: 2}, {q: "CAD used in?", opts: ["Banking", "Industrial design", "Education", "Communication"], ans: 1}, {q: "Auto computers help by?", opts: ["Increasing engine", "Reducing tire wear", "Regulating fuel", "Enhancing paint"], ans: 2}, {q: "Military computer app?", opts: ["Payroll", "Missile control", "Shopping", "Word processing"], ans: 1}, {q: "Banking service?", opts: ["Manual ledger", "ATM transactions", "Handwritten checks", "Paper statements"], ans: 1}, {q: "Real-time video tech?", opts: ["Email", "Telnet", "Video conferencing", "FTP"], ans: 2}, {q: "Computer no fatigue?", opts: ["Speed", "Reliability", "Flexibility", "Storage"], ans: 1}, {q: "RAM volatile because?", opts: ["Stores permanent", "Loses data when off", "Read-only", "For backups"], ans: 1}, {q: "ROM differs because?", opts: ["Faster", "Volatile", "Permanent instructions", "Erasable"], ans: 2}, {q: "SSD shock-resistant why?", opts: ["Heavier", "Magnetic disks", "No moving parts", "Metal"], ans: 2}, {q: "Component connects all?", opts: ["CPU", "RAM", "Motherboard", "SSD"], ans: 2}, {q: "Nuclear simulations use?", opts: ["Microcomputer", "Mainframe", "Supercomputer", "Workstation"], ans: 2}, {q: "Mainframes used by?", opts: ["Freelancers", "Small business", "Large orgs", "Students"], ans: 2}, {q: "Workstations ideal for?", opts: ["Word processing", "CAD apps", "Email", "Browsing"], ans: 1}, {q: "Microcontrollers for?", opts: ["Data centers", "Embedded systems", "Gaming", "Cloud"], ans: 1}, {q: "Capacitive touchscreen detects?", opts: ["Pressure", "Heat", "Electrical conductivity", "Light"], ans: 2}, {q: "Best for digital drawing?", opts: ["Mouse", "Keyboard", "Graphics tablet", "Scanner"], ans: 2}, {q: "Plotter used for?", opts: ["Printing receipts", "Vector graphics", "Scanning docs", "Playing music"], ans: 1}, {q: "PSU converts?", opts: ["Data to info", "Software to hardware", "AC to DC power", "RAM to ROM"], ans: 2}, {q: "CMOS battery powers?", opts: ["RAM", "Hard drive", "BIOS settings", "Monitor"], ans: 2}, {q: "Voltage regulators for?", opts: ["Increase CPU speed", "Stable voltage", "Cool system", "Store data"], ans: 1}, {q: "NICs essential for?", opts: ["Storage", "Network connectivity", "Power", "Audio"], ans: 1}, {q: "Ethernet cables use?", opts: ["Light", "Sound", "Electrical signals", "Infrared"], ans: 2}, {q: "Routers connect?", opts: ["Store data", "Networks", "Print docs", "Scan files"], ans: 1}, {q: "Switches help with?", opts: ["Reducing congestion", "Increasing voltage", "Cooling CPU", "Formatting drives"], ans: 0}, {q: "Patch panels for?", opts: ["Encryption", "Cable management", "Power regulation", "Audio"], ans: 1}, {q: "Crimping tools for?", opts: ["Cut wires", "Attach connectors", "Measure voltage", "Test speed"], ans: 1}, {q: "Powerline adapters use?", opts: ["Fiber optics", "Wireless", "Electrical wiring", "Infrared"], ans: 2}, {q: "GPUs optimized for?", opts: ["Serial processing", "Arithmetic only", "Parallel processing", "Storage"], ans: 2}, {q: "Buffer memory helps?", opts: ["Cooling", "Backup", "Traffic management", "Encryption"], ans: 2}, {q: "Heat sinks for?", opts: ["Store heat", "Prevent overheating", "Increase voltage", "Reduce noise"], ans: 1}, {q: "CMOS lithium batteries?", opts: ["Rechargeable", "Last long", "Heavy", "Magnetic"], ans: 1}, {q: "Component translates input?", opts: ["Monitor", "CPU", "Keyboard", "RAM"], ans: 2}, {q: "Graphics tablets precise why?", opts: ["Use styluses", "Larger", "Wireless", "Have screens"], ans: 0}],
            MTH101: [{q: "an = 5n-2, 7th term?", opts: ["33", "31", "35", "37"], ans: 0}, {q: "5 √ó 3 =?", opts: ["15", "8", "12", "20"], ans: 0}, {q: "10 √∑ 2 =?", opts: ["5", "8", "2", "20"], ans: 0}, {q: "8 - 3 =?", opts: ["5", "11", "4", "6"], ans: 0}, {q: "‚àö16 =?", opts: ["4", "8", "2", "16"], ans: 0}, {q: "2¬≥ =?", opts: ["6", "8", "9", "4"], ans: 1}, {q: "50% of 100?", opts: ["50", "25", "75", "100"], ans: 0}, {q: "œÄ value?", opts: ["3.14", "2.71", "1.41", "1.73"], ans: 0}, {q: "Set definition?", opts: ["Repeated elements", "Random objects", "Well-defined distinct objects", "Infinite numbers"], ans: 2}, {q: "a ‚àà A means?", opts: ["Not in A", "Subset of A", "Element of A", "Equal to A"], ans: 2}, {q: "Proper subset?", opts: ["{1,2,3}={1,2,3}", "{2,4}‚äÜ{2,4,6}", "{a,b}‚äá{a,b,c}", "{x,y,z}={z,y,x,x}"], ans: 1}, {q: "A=B if?", opts: ["A‚äÜB only", "B‚äÜA only", "A‚à©B=‚àÖ", "A‚äÜB and B‚äÜA"], ans: 3}, {q: "Empty set?", opts: ["{0}", "{prime<2}", "{1,2,3}", "{even and odd}"], ans: 3}, {q: "A‚à™B includes?", opts: ["Only A", "Only B", "Both A and B", "A or B or both"], ans: 3}, {q: "A‚à©B defined as?", opts: ["A‚à™B", "A\\B", "A‚à©B", "A‚äÜB"], ans: 2}, {q: "Complement includes?", opts: ["In A", "Not in A", "In A‚à©B", "In A‚à™B"], ans: 1}, {q: "A={1,2,3}, B={3,4,5}, A\\B?", opts: ["{3}", "{1,2}", "{4,5}", "{1,2,4,5}"], ans: 1}, {q: "AŒîB equivalent to?", opts: ["A‚à©B", "A‚à™B", "(A\\B)‚à™(B\\A)", "A‚äÜB"], ans: 2}, {q: "Disjoint sets if?", opts: ["A‚à™B=‚àÖ", "A‚à©B=‚àÖ", "A=B", "A‚äÜB"], ans: 1}, {q: "{a,b,c,d} cardinality?", opts: ["3", "4", "5", "0"], ans: 1}, {q: "Venn diagram for?", opts: ["Finite only", "Infinite only", "Set operations", "Number lines"], ans: 2}, {q: "Identity law?", opts: ["A‚à™‚àÖ=‚àÖ", "A‚à©‚àÖ=A", "A‚à™‚àÖ=A", "A‚à©U=‚àÖ"], ans: 2}, {q: "De Morgan: (A‚à™B)·∂ú =?", opts: ["A·∂ú‚à™B·∂ú", "A·∂ú‚à©B·∂ú", "A·∂ú", "B·∂ú"], ans: 1}, {q: "Finite set?", opts: ["{x‚ààN:x<100}", "{x real}", "{x irrational}", "{x‚ààZ}"], ans: 0}, {q: "Countable set?", opts: ["Infinite unstructured", "No elements", "Listed in sequence", "Only real"], ans: 2}, {q: "Uncountable set?", opts: ["N", "Q", "{1,2,3}", "R"], ans: 3}, {q: "Rational number?", opts: ["‚àö2", "œÄ", "3/4", "e"], ans: 2}, {q: "Irrational number?", opts: ["1/2", "0.25", "‚àö3", "4"], ans: 2}, {q: "Complex numbers?", opts: ["R", "Q", "C", "Z"], ans: 2}, {q: "i defined as?", opts: ["‚àö1", "‚àö0", "‚àö‚àí1", "-1"], ans: 2}, {q: "Composite number?", opts: ["2", "3", "5", "6"], ans: 3}, {q: "NOT induction property?", opts: ["Base case", "Inductive step", "Contrapositive", "Generalization"], ans: 2}, {q: "Sum first n naturals?", opts: ["n(n-1)/2", "n(n+1)/2", "n¬≤", "n+1"], ans: 1}, {q: "Sequence is?", opts: ["{1,2,3,4}", "1+2+3+4", "a‚ÇÅ,a‚ÇÇ,a‚ÇÉ,...", "1,2,3,4,5"], ans: 2}, {q: "1,3,5,7,... general term?", opts: ["n+1", "2n", "2n-1", "n¬≤"], ans: 2}, {q: "1,4,9,16,... term?", opts: ["n", "2n", "n¬≤", "2n+1"], ans: 2}, {q: "Series defined as?", opts: ["Number list", "Element set", "Sum of terms", "Number product"], ans: 2}, {q: "Arithmetic progression?", opts: ["1,2,4,8", "2,4,6,8", "1,3,6,10", "1,4,9,16"], ans: 1}, {q: "AP nth term?", opts: ["a√ór‚Åø", "a+(n-1)d", "a-d", "a+nd"], ans: 1}, {q: "AP sum formula?", opts: ["n/2[2a+(n-1)d]", "a+nd", "a√ór‚Åø", "n(a+d)"], ans: 0}, {q: "Geometric progression?", opts: ["1,2,3,4", "2,4,8,16", "1,3,5,7", "1,4,9,16"], ans: 1}, {q: "GP nth term?", opts: ["a+(n-1)d", "a√ór‚Åø‚Åª¬π", "a√ón", "a+r"], ans: 1}, {q: "Ratio -2 sequence?", opts: ["1,-2,4,-8", "2,4,6,8", "1,3,5,7", "1,2,3,4"], ans: 0}, {q: "a=2, r=3, 4th term?", opts: ["18", "54", "24", "16"], ans: 1}, {q: "NOT set property?", opts: ["Idempotent", "Associative", "Distributive", "Transitive"], ans: 3}, {q: "Empty set ‚àÖ?", opts: ["One element", "Infinite", "Subset of every set", "Universal set"], ans: 2}, {q: "Power set {a,b} elements?", opts: ["2", "3", "4", "5"], ans: 2}, {q: "Unit set?", opts: ["{}", "{a}", "{a,b}", "{{}}"], ans: 1}, {q: "Set-builder notation?", opts: ["{1,2,3}", "{x:even}", "{x‚ààN:x>5}", "{1,2,3,...}"], ans: 1}, {q: "P(x)=5x‚Å¥-2x¬≥+7x-1 degree?", opts: ["1", "3", "4", "5"], ans: 2}],
            BIO101: [{q: "Cell discovered 1665?", opts: ["Darwin", "Hooke", "Schleiden", "Schwann"], ans: 1}, {q: "Cell theory year?", opts: ["1665", "1839", "1858", "1900"], ans: 1}, {q: "NOT cell theory?", opts: ["All cells", "Mitochondria", "Pre-existing", "Vital functions"], ans: 1}, {q: "Prokaryotic nuclear region?", opts: ["Nucleus", "Nucleoid", "Nucleolus", "Membrane"], ans: 1}, {q: "Bacteria lacks wall?", opts: ["E.coli", "Mycoplasma", "Staph", "Strep"], ans: 1}, {q: "Bacterial wall of?", opts: ["Cellulose", "Chitin", "Peptidoglycan", "Lignin"], ans: 2}, {q: "Eukaryotic wider by?", opts: ["5√ó", "10√ó", "15√ó", "20√ó"], ans: 2}, {q: "Prokaryotic ribosomes?", opts: ["60S", "70S", "80S", "90S"], ans: 1}, {q: "Mitochondria function?", opts: ["Protein synthesis", "Photosynthesis", "ATP production", "Division"], ans: 2}, {q: "Protein packaging?", opts: ["ER", "Golgi", "Lysosome", "Ribosome"], ans: 1}, {q: "Lysosomes contain?", opts: ["DNA", "RNA", "Enzymes", "Chlorophyll"], ans: 2}, {q: "Controls cell?", opts: ["Mitochondrion", "Nucleus", "Ribosome", "Golgi"], ans: 1}, {q: "Photosynthesis in?", opts: ["Mitochondrion", "Chloroplast", "Lysosome", "Peroxisome"], ans: 1}, {q: "ER with ribosomes?", opts: ["Smooth", "Rough", "Both", "Neither"], ans: 1}, {q: "Centrioles in?", opts: ["Plant only", "Animal only", "Bacterial", "All types"], ans: 1}, {q: "Plant vacuole membrane?", opts: ["Plasma", "Tonoplast", "Wall", "Nuclear"], ans: 1}, {q: "Swedish botanist?", opts: ["Darwin", "Linnaeus", "Hooke", "Haeckel"], ans: 1}, {q: "Modern kingdoms?", opts: ["Two", "Three", "Four", "Five"], ans: 3}, {q: "Monera consists of?", opts: ["Fungi algae", "Bacteria algae", "Protozoa algae", "Plants animals"], ans: 1}, {q: "Protista mostly?", opts: ["Multi nucleus", "Uni no nucleus", "Uni nucleus", "Multi no nucleus"], ans: 2}, {q: "Fungal walls of?", opts: ["Cellulose", "Chitin", "Peptidoglycan", "Starch"], ans: 1}, {q: "Fungal filaments?", opts: ["Hypha", "Mycelium", "Sporangium", "Rhizoid"], ans: 1}, {q: "Naked seeds?", opts: ["Angiosperms", "Gymnosperms", "Bryophytes", "Pteridophytes"], ans: 1}, {q: "Bryophytes characterized by?", opts: ["Vascular", "Sporophyte", "Water fertilization", "True roots"], ans: 2}, {q: "Fern leaves?", opts: ["Fronds", "Blades", "Needles", "Scales"], ans: 0}, {q: "Seeds enclosed in?", opts: ["Cones", "Fruits", "Spores", "Rhizomes"], ans: 1}, {q: "Asexual reproduction?", opts: ["Two parents", "Gamete fusion", "Single parent", "Meiosis"], ans: 2}, {q: "NOT asexual?", opts: ["Fission", "Budding", "Fragmentation", "Fertilization"], ans: 3}, {q: "Sperm + egg =?", opts: ["Gamete", "Zygote", "Spore", "Bud"], ans: 1}, {q: "Meiosis produces?", opts: ["Diploid", "Haploid", "Triploid", "Polyploid"], ans: 1}, {q: "Separate sexes?", opts: ["Hermaphroditic", "Unisexual", "Parthenogenetic", "Bisexual"], ans: 1}, {q: "Parthenogenesis involves?", opts: ["Two parents", "Fertilized eggs", "Unfertilized offspring", "Spores"], ans: 2}, {q: "Oviparity eggs?", opts: ["Internal", "External", "Never", "Unfertilized"], ans: 1}, {q: "Viviparity characterized by?", opts: ["External egg", "Yolk only", "Mother's blood", "Spores"], ans: 2}, {q: "Underground stems?", opts: ["Cuttings", "Rhizomes", "Runners", "Bulbs"], ans: 1}, {q: "Potato tubers?", opts: ["Modified roots", "Storage stems", "Runners", "Bulbs"], ans: 1}, {q: "Basic inheritance unit?", opts: ["Chromosome", "Gene", "Nucleotide", "Allele"], ans: 1}, {q: "Mendel First Law?", opts: ["Independent", "Segregation", "Dominance", "Linkage"], ans: 1}, {q: "DD√ódd F1?", opts: ["All DD", "All dd", "All Dd", "1:2:1"], ans: 2}, {q: "Monohybrid F2 phenotype?", opts: ["1:1", "1:2:1", "3:1", "9:3:3:1"], ans: 2}, {q: "Monohybrid F2 genotype?", opts: ["1:1", "1:2:1", "3:1", "9:3:3:1"], ans: 1}, {q: "Mendel Second Law?", opts: ["Segregation", "Independent", "Dominance", "Linkage"], ans: 1}, {q: "Dihybrid trait pairs?", opts: ["One", "Two", "Three", "Four"], ans: 1}, {q: "Dihybrid F2 ratio?", opts: ["3:1", "1:2:1", "9:3:3:1", "1:1:1:1"], ans: 2}, {q: "Identical alleles?", opts: ["Heterozygous", "Homozygous", "Hemizygous", "Polygenic"], ans: 1}, {q: "Observable characteristics?", opts: ["Genotype", "Phenotype", "Karyotype", "Genome"], ans: 1}, {q: "Lamarck theory?", opts: ["Natural selection", "Use and disuse", "Mutation", "Random variation"], ans: 1}, {q: "Darwin theory based on?", opts: ["Acquired", "Natural selection", "Spontaneous", "Divine"], ans: 1}],
            CHS101: [{q: "Security system purpose?", opts: ["Increase profits", "Protect assets", "Simplify admin", "Monitor employees"], ans: 1}, {q: "CIA triad 'A'?", opts: ["Authority", "Authenticity", "Availability", "Accountability"], ans: 2}, {q: "Risk assessment first step?", opts: ["Implementing", "Monitoring", "Identifying hazards", "Analyzing severity"], ans: 2}, {q: "Near miss defined as?", opts: ["Major injury", "Property damage", "Potential incident", "Safety drill"], ans: 2}, {q: "Class A fire?", opts: ["Flammable liquids", "Electrical", "Ordinary combustibles", "Metals"], ans: 2}, {q: "Class C extinguisher?", opts: ["Water", "Foam", "Dry Chemical", "CO2"], ans: 3}, {q: "PPE stands for?", opts: ["Program Equipment", "Pre-Planned", "Protective Equipment", "Protection Element"], ans: 2}, {q: "Hazard identification?", opts: ["Once yearly", "Continuous", "After incident", "Experts only"], ans: 1}, {q: "Incident Response goal?", opts: ["Assign blame", "Minimize damage", "File insurance", "Prevent all"], ans: 1}, {q: "Ergonomics focuses on?", opts: ["Aesthetic design", "Worker environment", "Chemical hazards", "Financial management"], ans: 1}, {q: "Access control form?", opts: ["CCTV", "Extinguishers", "Password auth", "Signage"], ans: 2}, {q: "Confidentiality ensures?", opts: ["Authorized only", "Accurate complete", "Always operational", "User tracking"], ans: 0}, {q: "LOTO procedure for?", opts: ["Lifting Objects", "Lockout/Tagout", "Training Logging", "Temperature Optimization"], ans: 1}, {q: "Effective policy communication?", opts: ["Rarely visited", "Single email", "Multiple channels", "Supervisors only"], ans: 2}, {q: "SDS significance?", opts: ["Employee contacts", "Hazardous chemical info", "Emergency phones", "Inspection dates"], ans: 1}, {q: "Most effective control?", opts: ["PPE", "Substitution", "Elimination", "Administrative"], ans: 2}, {q: "Phishing is?", opts: ["Physical surveillance", "Trustworthy disguise", "Data backup", "Diagnostic tool"], ans: 1}, {q: "CO2 removes?", opts: ["Heat", "Fuel", "Oxygen", "Chain Reaction"], ans: 2}, {q: "Integrity refers to?", opts: ["Data unaltered", "Physical security", "Fast network", "Admin login"], ans: 0}, {q: "JSA used to?", opts: ["Salary review", "Identify hazards", "Calculate productivity", "Time off"], ans: 1}, {q: "Electrical tools concern?", opts: ["Casing color", "Shock and fire", "Brand name", "Tool weight"], ans: 1}, {q: "Root cause analysis?", opts: ["Quick fix", "Underlying reason", "Punish people", "Check compliance"], ans: 1}, {q: "Training effectiveness?", opts: ["Attendance number", "Knowledge retention", "Material cost", "Presentation length"], ans: 1}, {q: "Housekeeping refers to?", opts: ["Weekly cleaning", "Prevent hazards", "Holiday decor", "Financial records"], ans: 1}, {q: "2FA is?", opts: ["Two passwords", "Two verification methods", "Login twice", "Two admins"], ans: 1}],
            CHM101: [{q: "Amount of substance unit?", opts: ["Kilogram", "Mole", "Gram", "Liter"], ans: 1}, {q: "Physical change?", opts: ["Burning wood", "Rusting iron", "Dissolving sugar", "Cooking egg"], ans: 2}, {q: "Protons number is?", opts: ["Mass number", "Atomic number", "Neutron number", "Isotope number"], ans: 1}, {q: "Definite volume no shape?", opts: ["Solid", "Liquid", "Gas", "Plasma"], ans: 1}, {q: "Positive ion?", opts: ["Anion", "Cation", "Isotope", "Electron"], ans: 1}, {q: "Gold symbol?", opts: ["Ag", "Au", "Gd", "Ge"], ans: 1}, {q: "Second shell electrons?", opts: ["2", "8", "18", "32"], ans: 1}, {q: "Shared electrons bond?", opts: ["Ionic", "Metallic", "Covalent", "Hydrogen"], ans: 2}, {q: "Dissolves substance?", opts: ["Solute", "Solvent", "Solution", "Precipitate"], ans: 1}, {q: "Water molar mass?", opts: ["17", "18", "16", "20"], ans: 1}, {q: "Noble gas?", opts: ["Nitrogen", "Oxygen", "Neon", "Chlorine"], ans: 2}, {q: "Loses electron becomes?", opts: ["Neutral", "Cation", "Anion", "Isotope"], ans: 1}, {q: "NaCl common name?", opts: ["Baking soda", "Table sugar", "Table salt", "Vinegar"], ans: 2}, {q: "Boyle's Law relates?", opts: ["Volume Temp", "Pressure Temp", "Pressure Volume", "Volume Moles"], ans: 2}, {q: "Heat absorbed?", opts: ["Exothermic", "Endothermic", "Combustion", "Neutralization"], ans: 1}, {q: "Solid to gas?", opts: ["Evaporation", "Condensation", "Sublimation", "Melting"], ans: 2}, {q: "Neutral pH at 25¬∞C?", opts: ["0", "7", "14", "10"], ans: 1}, {q: "Periodic table?", opts: ["Rutherford", "Bohr", "Mendeleev", "Dalton"], ans: 2}, {q: "Outermost electrons?", opts: ["Core", "Valence", "Transition", "Inner"], ans: 1}, {q: "Conservation of Mass?", opts: ["Always lost", "New elements", "Neither created destroyed", "Volume conserved"], ans: 2}, {q: "Oxygen oxidation number?", opts: ["+2", "-1", "-2", "0"], ans: 2}, {q: "Catalyst is?", opts: ["Consumed", "Changes products", "Increases rate", "Decreases energy"], ans: 2}, {q: "Heavy nucleus splits?", opts: ["Fusion", "Fission", "Ionization", "Sublimation"], ans: 1}, {q: "Only single bonds?", opts: ["Alkene", "Alkyne", "Alkane", "Aromatic"], ans: 2}, {q: "Basic litmus color?", opts: ["Red", "Green", "Blue", "Yellow"], ans: 2}, {q: "mL in liter?", opts: ["10", "100", "1000", "10000"], ans: 2}, {q: "Remove electron energy?", opts: ["Electronegativity", "Ionization energy", "Electron affinity", "Atomic radius"], ans: 1}, {q: "Most electronegative?", opts: ["Oxygen", "Chlorine", "Fluorine", "Nitrogen"], ans: 2}, {q: "Isotopes differ in?", opts: ["Protons", "Electrons", "Neutrons", "Nuclei"], ans: 2}, {q: "Carbon covalent bonds?", opts: ["2", "3", "4", "5"], ans: 2}, {q: "Homogenous mixture?", opts: ["Visible parts", "Uniform composition", "Only metals", "Separates layers"], ans: 1}, {q: "Precise volume measure?", opts: ["Beaker", "Flask", "Graduated cylinder", "Watch glass"], ans: 2}]
        };

        // State
        let user = null;
        let course = null;
        let numQuestions = 10;
        let timeMinutes = 5;
        let testQuestions = [];
        let currentQ = 0;
        let answers = [];
        let timer = null;
        let timeLeft = 0;

        // Auth Functions
        function showRegister() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        function showLogin() {
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
        }

        async function handleRegister() {
            const name = document.getElementById('regName').value.trim();
            const email = document.getElementById('regEmail').value.trim();
            const pass = document.getElementById('regPassword').value;
            const confirm = document.getElementById('regConfirmPassword').value;

            if (!name || !email || !pass || !confirm) return alert('Fill all fields');
            if (pass !== confirm) return alert('Passwords do not match');
            if (pass.length < 6) return alert('Password min 6 characters');

            try {
                const cred = await auth.createUserWithEmailAndPassword(email, pass);
                await db.collection('users').doc(cred.user.uid).set({
                    name: name,
                    email: email,
                    created: firebase.firestore.FieldValue.serverTimestamp()
                });
                alert('Registration successful! Please login.');
                showLogin();
            } catch (e) {
                alert('Registration failed: ' + e.message);
            }
        }

        async function handleLogin() {
            const email = document.getElementById('loginEmail').value.trim();
            const pass = document.getElementById('loginPassword').value;

            if (!email || !pass) return alert('Fill all fields');

            try {
                const cred = await auth.signInWithEmailAndPassword(email, pass);
                const doc = await db.collection('users').doc(cred.user.uid).get();
                if (doc.exists) {
                    user = { uid: cred.user.uid, ...doc.data() };
                    document.getElementById('userName').textContent = user.name;
                    await loadStats();
                    showSection('courseSection');
                    document.getElementById('logoutBtn').style.display = 'block';
                    document.getElementById('historyBtn').style.display = 'block';
                }
            } catch (e) {
                alert('Login failed: ' + e.message);
            }
        }

        async function resetPassword() {
            const email = document.getElementById('loginEmail').value.trim();
            if (!email) return alert('Enter email to reset password');
            try {
                await auth.sendPasswordResetEmail(email);
                alert('Reset link sent to ' + email);
            } catch (e) {
                alert('Error: ' + e.message);
            }
        }

        async function handleLogout() {
            await auth.signOut();
            user = null;
            showSection('authSection');
            document.getElementById('logoutBtn').style.display = 'none';
            document.getElementById('historyBtn').style.display = 'none';
            document.getElementById('timer').style.display = 'none';
        }

        // Navigation
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function selectCourse(c) {
            course = c;
            document.getElementById('courseName').textContent = c;
            resetConfig();
            showSection('configSection');
        }

        function resetConfig() {
            document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
            numQuestions = 10;
            timeMinutes = 5;
        }

        function selectQuestions(n) {
            numQuestions = n;
            document.querySelectorAll('#questionBtns .option-btn').forEach(b => b.classList.remove('selected'));
            event.target.classList.add('selected');
        }

        function selectTime(t) {
            timeMinutes = t;
            document.querySelectorAll('#timerBtns .option-btn').forEach(b => b.classList.remove('selected'));
            event.target.classList.add('selected');
        }

        function backToCourses() {
            resetTest();
            loadStats();
            showSection('courseSection');
        }

        // Test Functions
        function startTest() {
            const all = questions[course];
            testQuestions = [];
            const used = new Set();
            
            while (testQuestions.length < Math.min(numQuestions, all.length)) {
                const i = Math.floor(Math.random() * all.length);
                if (!used.has(i)) {
                    used.add(i);
                    testQuestions.push(all[i]);
                }
            }

            answers = new Array(testQuestions.length).fill(null);
            currentQ = 0;
            timeLeft = timeMinutes * 60;
            
            showSection('testSection');
            document.getElementById('timer').style.display = 'block';
            startTimer();
            displayQuestion();
        }

        function startTimer() {
            updateTimer();
            if (timer) clearInterval(timer);
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimer();
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    submitTest();
                }
            }, 1000);
        }

        function updateTimer() {
            const m = Math.floor(timeLeft / 60);
            const s = timeLeft % 60;
            document.getElementById('timer').textContent = 
                `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
        }

        function displayQuestion() {
            const q = testQuestions[currentQ];
            document.getElementById('questionNum').textContent = 
                `Question ${currentQ + 1} of ${testQuestions.length}`;
            document.getElementById('questionText').textContent = q.q;
            
            const list = document.getElementById('optionsList');
            list.innerHTML = '';
            
            q.opts.forEach((opt, i) => {
                const div = document.createElement('div');
                div.className = 'option-item';
                if (answers[currentQ] === i) div.classList.add('selected');
                div.textContent = opt;
                div.onclick = () => selectAnswer(i);
                list.appendChild(div);
            });

            const prog = ((currentQ + 1) / testQuestions.length) * 100;
            document.getElementById('progress').style.width = prog + '%';

            document.getElementById('prevBtn').disabled = currentQ === 0;
            document.getElementById('nextBtn').textContent = 
                currentQ === testQuestions.length - 1 ? 'Submit' : 'Next';
        }

        function selectAnswer(i) {
            answers[currentQ] = i;
            displayQuestion();
        }

        function prevQuestion() {
            if (currentQ > 0) {
                currentQ--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (currentQ === testQuestions.length - 1) {
                submitTest();
            } else {
                currentQ++;
                displayQuestion();
            }
        }

        async function submitTest() {
            clearInterval(timer);
            document.getElementById('timer').style.display = 'none';

            let correct = 0, wrong = 0;
            testQuestions.forEach((q, i) => {
                if (answers[i] === q.ans) correct++;
                else wrong++;
            });

            const pct = Math.round((correct / testQuestions.length) * 100);

            try {
                await db.collection('tests').add({
                    userId: user.uid,
                    userName: user.name,
                    course: course,
                    total: testQuestions.length,
                    correct: correct,
                    wrong: wrong,
                    percentage: pct,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                });
            } catch (e) {
                console.error('Save error:', e);
            }

            document.getElementById('scorePercent').textContent = pct + '%';
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('wrongCount').textContent = wrong;
            document.getElementById('totalCount').textContent = testQuestions.length;

            showSection('resultsSection');
        }

        function showReview() {
            const content = document.getElementById('reviewContent');
            content.innerHTML = '';
            
            testQuestions.forEach((q, i) => {
                const userAns = answers[i];
                const isCorrect = userAns === q.ans;

                let html = `<div class="review-item">
                    <h4>Question ${i + 1}: ${q.q}</h4>`;
                
                q.opts.forEach((opt, j) => {
                    let cls = 'review-option';
                    let pre = '';
                    
                    if (j === q.ans) {
                        cls += ' correct';
                        pre = '‚úÖ Correct: ';
                    } else if (j === userAns && !isCorrect) {
                        cls += ' wrong';
                        pre = '‚ùå Your answer: ';
                    }

                    html += `<div class="${cls}">${pre}${opt}</div>`;
                });

                html += '</div>';
                content.innerHTML += html;
            });

            showSection('reviewSection');
        }

        function showResults() {
            showSection('resultsSection');
        }

        function resetTest() {
            if (timer) clearInterval(timer);
            testQuestions = [];
            currentQ = 0;
            answers = [];
            timeLeft = 0;
        }

        // Stats & History
        async function loadStats() {
            if (!user) return;
            try {
                const snap = await db.collection('tests')
                    .where('userId', '==', user.uid)
                    .get();

                const total = snap.size;
                let sum = 0, high = 0;

                snap.forEach(doc => {
                    const pct = doc.data().percentage || 0;
                    sum += pct;
                    if (pct > high) high = pct;
                });

                const avg = total > 0 ? Math.round(sum / total) : 0;

                document.getElementById('statsGrid').innerHTML = `
                    <div class="stat-card">
                        <h3>Total Tests</h3>
                        <p>${total}</p>
                    </div>
                    <div class="stat-card">
                        <h3>Average</h3>
                        <p>${avg}%</p>
                    </div>
                    <div class="stat-card">
                        <h3>Highest</h3>
                        <p>${high}%</p>
                    </div>
                `;
            } catch (e) {
                console.error('Stats error:', e);
            }
        }

        async function showHistory() {
            if (!user) return;
            showSection('historySection');
            document.getElementById('historyContent').innerHTML = '<div class="loading">Loading...</div>';

            try {
                const snap = await db.collection('tests')
                    .where('userId', '==', user.uid)
                    .orderBy('timestamp', 'desc')
                    .limit(20)
                    .get();

                if (snap.empty) {
                    document.getElementById('historyContent').innerHTML = 
                        '<p style="text-align:center;color:#ffd700;">No history yet</p>';
                    return;
                }

                let html = `<table class="history-table"><thead><tr>
                    <th>Date</th><th>Course</th><th>Questions</th>
                    <th>Correct</th><th>Wrong</th><th>Score</th>
                </tr></thead><tbody>`;

                snap.forEach(doc => {
                    const d = doc.data();
                    const date = d.timestamp ? d.timestamp.toDate().toLocaleDateString() : 'N/A';
                    html += `<tr>
                        <td>${date}</td>
                        <td>${d.course}</td>
                        <td>${d.total}</td>
                        <td style="color:#4caf50">${d.correct}</td>
                        <td style="color:#f44336">${d.wrong}</td>
                        <td><strong>${d.percentage}%</strong></td>
                    </tr>`;
                });

                html += '</tbody></table>';
                document.getElementById('historyContent').innerHTML = html;
            } catch (e) {
                document.getElementById('historyContent').innerHTML = 
                    '<p style="text-align:center;color:#f44336;">Error loading history</p>';
            }
        }

        // Auth State Listener
        auth.onAuthStateChanged(async (u) => {
            if (u) {
                try {
                    const doc = await db.collection('users').doc(u.uid).get();
                    if (doc.exists) {
                        user = { uid: u.uid, ...doc.data() };
                        document.getElementById('userName').textContent = user.name;
                        await loadStats();
                        showSection('courseSection');
                        document.getElementById('logoutBtn').style.display = 'block';
                        document.getElementById('historyBtn').style.display = 'block';
                    } else {
                        handleLogout();
                    }
                } catch (e) {
                    handleLogout();
                }
            } else {
                user = null;
                showSection('authSection');
                document.getElementById('logoutBtn').style.display = 'none';
                document.getElementById('historyBtn').style.display = 'none';
                document.getElementById('timer').style.display = 'none';
            }
        });
    </script>
</body>
</html>