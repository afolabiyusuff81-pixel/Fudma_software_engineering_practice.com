<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUDMA Software Engineering CBT Practice Portal</title>
    <style>
        /* [EXISTING CSS REMAINS UNCHANGED UP TO THIS POINT] */
        * /* RESET */
*  {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* =========================================
   üéÑ CHRISTMAS DELUXE BACKGROUND
   ========================================= */
body {
    font-family: ui-serif, Georgia, Cambria, "Times New Roman", serif;

    /* Christmas animated gradient */
    background: linear-gradient(120deg, #ff0000, #0f9b0f, #ffcc00, #ffffff);
    background-size: 400% 400%;
    animation: christmasGradient 12s ease infinite;

    min-height: 100vh;
    padding: 20px;
}

@keyframes christmasGradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ‚ùÑ Falling Snow Overlay */
.snow {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2000;
    /* NOTE: The image URL '' is required for this effect to work. */
    background-image: url('');
    animation: snowFall 15s linear infinite;
    opacity: 0.7;
}

@keyframes snowFall {
    0% { background-position: 0 0; }
    100% { background-position: 0 1000px; }
}

/* =========================================
   ‚ú® GLOBAL ANIMATED CHRISTMAS LIGHT TEXT
   ========================================= */
h1, h2, h3, h4, h5, h6, p, label, span {
    background: linear-gradient(90deg, red, green, gold, white);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: glowText 3s infinite alternate;
}

@keyframes glowText {
    0% { text-shadow: 0 0 10px red; background-position: 0% 50%; }
    50% { text-shadow: 0 0 20px gold; background-position: 100% 50%; }
    100% { text-shadow: 0 0 15px green; background-position: 0% 50%; }
}

/* =========================================
   üéÅ CHRISTMAS BUTTONS
   ========================================= */
.btn, .btn-secondary, .animated-btn, button {
    background: linear-gradient(90deg, #ff0000, #0f9b0f, #ffcc00);
    background-size: 300% 300%;
    color: white;
    padding: 14px 30px;
    border: none;
    border-radius: 10px;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    animation: buttonGlow 5s ease infinite;
    transition: transform .3s, box-shadow .3s;
    width: 100%;
    margin-top: 10px;
    font-family: inherit;
}

@keyframes buttonGlow {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}

.btn:hover, .btn-secondary:hover, .animated-btn:hover, button:hover {
    transform: scale(1.08);
    box-shadow: 0 0 25px gold;
}

/* =========================================
   üåü SPARKLES
   ========================================= */
.sparkle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: gold;
    border-radius: 50%;
    z-index: 3000;
    animation: sparkleAnim 1.5s infinite ease-in-out;
}

@keyframes sparkleAnim {
    0% { opacity: 0; transform: scale(0); }
    50% { opacity: 1; transform: scale(1.6); }
    100% { opacity: 0; transform: scale(0); }
}

/* =========================================
   üéì DESIGN LABEL (Integrated with Christmas Theme)
   ========================================= */
.design-label {
    margin-top: 15px;
    font-size: 14px; 
    font-weight: 700;
    
    /* Inherit the animated button/text style */
    background: linear-gradient(90deg, #ff0000, #0f9b0f, #ffcc00);
    background-size: 300% 300%;
    animation: buttonGlow 5s ease infinite; /* Use the existing button animation */
    
    color: white; 
    
    padding: 8px 20px;
    border-radius: 20px; /* More pill-shaped */
    display: inline-block;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
    text-shadow: 1px 1px 3px black; 
}

/* Ensure the text inside the label is NOT animated by the general text rule */
.design-label * {
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: white !important;
    animation: none !important;
    text-shadow: none !important;
    background: none !important;
}

/* =========================================
   CONTAINERS / APP UI
   ========================================= */
.container {
    max-width: 1000px;
    margin: 0 auto;
    background: rgba(255,255,255,0.8);
    border-radius: 15px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    overflow: hidden;
    backdrop-filter: blur(10px);
}

.header {
    background: linear-gradient(135deg, #ff0000 0%, #0f9b0f 100%);
    padding: 30px;
    text-align: center;
}

/* CONTENT */
.content {
    padding: 40px;
}

/* SECTIONS */
.auth-section, 
.course-selection, 
.test-config, 
.test-section, 
.results-section,
.review-section, /* Added missing section from previous HTML */
.history-section { /* Added missing section from previous HTML */
    display: none;
}

.auth-section.active, 
.course-selection.active, 
.test-config.active, 
.test-section.active, 
.results-section.active,
.review-section.active,
.history-section.active {
    display: block;
}

/* FORM INPUT */
.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
}

.form-group input, 
.form-group select {
    width: 100%;
    padding: 12px;
    border: 2px solid #c0c0c0;
    border-radius: 8px;
    font-size: 16px;
    transition: .3s;
    color: black;
}

.form-group input:focus, 
.form-group select:focus {
    border-color: red;
}

/* COURSE GRID */
.course-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.course-card {
    background: linear-gradient(135deg, #ff0000, #0f9b0f);
    color: white;
    padding: 30px 20px;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    transition: .3s;
}

.course-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 20px gold;
}

/* TEST TIMER */
.timer-display {
    position: fixed;
    top: 20px;
    right: 20px;
    background: red;
    color: white;
    padding: 15px 25px;
    border-radius: 10px;
    font-size: 24px;
    font-weight: bold;
    z-index: 5000;
}

/* QUESTIONS */
.question-container {
    background: rgba(255,255,255,0.9);
    padding: 30px;
    border-radius: 10px;
    margin-bottom: 20px;
}

.question-number {
    font-weight: bold;
    font-size: 18px;
    color: green;
}

.options {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.option {
    padding: 15px;
    border: 2px solid #c0c0c0;
    border-radius: 8px;
    cursor: pointer;
    transition: .3s;
}

.option:hover {
    border-color: green;
    background: #e8ffe6;
}

.option.selected {
    border-color: red;
    background: red;
    color: white;
}

/* RESULTS */
.results-summary {
    text-align: center;
    padding: 40px;
}

.score-circle {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    background: linear-gradient(135deg, #ff0000, #0f9b0f);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 30px auto;
    font-size: 48px;
    font-weight: bold;
}

.results-details {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
}

.result-card {
    background: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .config-options { 
        grid-template-columns: 1fr; 
    }
    .results-details { 
        grid-template-columns: 1fr; 
    }
    .course-grid { 
        grid-template-columns: 1fr; 
    }
}
/* ‚ùÑ CLICK SNOW BURST EFFECT */
.click-snow {
    position: fixed;
    width: 12px;
    height: 12px;
    background-image: url('https://i.imgur.com/MG6iQGv.png');
    background-size: cover;
    pointer-events: none;
    animation: clickSnowAnim 1s ease-out forwards;
    z-index: 9999;
}

@keyframes clickSnowAnim {
    0% {
        opacity: 1;
        transform: scale(1) translate(0, 0);
    }
    100% {
        opacity: 0;
        transform: scale(2.5) translate(0, -80px);
    }
}
    </style>
</head>
<body>
    <body>
    <div class="snow"></div> 
    <button class="logout-btn" id="logoutBtn" style="display: none;" onclick="logout()">Logout</button>
    <button class="history-btn" id="historyBtn" style="display: none;" onclick="showHistory()">View History</button>
    <div class="timer-display" id="timerDisplay" style="display: none;">00:00</div>


    <div class="header">
    <h1>üéì FUDMA SOFTWARE ENGINEERING STUDENT</h1>
    <h2>CBT PRACTICE PORTAL</h2>
    <p>Federal University Dutsin-Ma, Katsina State</p>
    
    <div class="design-label">
        Designed by Software Engineering Students
    </div>
    
</div>

        <div class="content">
            <div class="auth-section active" id="authSection">
                <h2 style="text-align: center; margin-bottom: 30px; color: #333;">Welcome! Please Login or Register</h2>
                
                <div id="loginForm">
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="loginEmail" placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter your password">
                    </div>
                    <div class="forgot-password-link">
                        <a href="#" onclick="resetPassword()">Forgot Password?</a>
                    </div>
                    
                    <button class="btn" onclick="login()">Login</button>
                    <button class="btn btn-secondary" onclick="showRegister()">Register New Account</button>
                </div>

                <div id="registerForm" style="display: none;">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="regName" placeholder="Enter your full name">
                    </div>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="regEmail" placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="regPassword" placeholder="Create a password (min 6 characters)">
                    </div>
                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input type="password" id="regConfirmPassword" placeholder="Confirm your password">
                    </div>
                    <button class="btn" onclick="register()">Register</button>
                    <button class="btn btn-secondary" onclick="showLogin()">Back to Login</button>
                </div>
            </div>

            <div class="course-selection" id="courseSelection">
                <div class="welcome-message">
                    <h2>Welcome, <span id="userName"></span>!</h2>
                    <p>Select a course to begin your practice session</p>
                </div>

                <div class="stats-grid" id="userStats">
                    </div>

                <div class="course-grid">
                    <div class="course-card" onclick="selectCourse('COS101')">
                        <h3>COS 101</h3>
                        <p>Introduction to Computing Sciences</p>
                        <p style="margin-top: 10px; font-size: 12px;">50 Questions Available</p>
                    </div>
                    <div class="course-card" onclick="selectCourse('PHY101')">
                        <h3>PHY 101</h3>
                        <p>General Physics I</p>
                        <p style="margin-top: 10px; font-size: 12px;">50 Questions Available</p>
                    </div>
                    <div class="course-card" onclick="selectCourse('CSC101')">
                        <h3>CSC 101</h3>
                        <p>Computer Installation & Maintenance</p>
                        <p style="margin-top: 10px; font-size: 12px;">50 Questions Available</p>
                    </div>
                    <div class="course-card" onclick="selectCourse('MTH101')">
                        <h3>MTH 101</h3>
                        <p>Elementary Mathematics I</p>
                        <p style="margin-top: 10px; font-size: 12px;">50 Questions Available</p>
                    </div>
                </div>
            </div>

            <div class="test-config" id="testConfig">
                <h2 style="text-align: center; margin-bottom: 10px; color: #333;">Configure Your Test</h2>
                <p style="text-align: center; color: #666; margin-bottom: 30px;">Course: <strong id="selectedCourseName"></strong></p>

                <div class="config-options">
                    <div class="option-group">
                        <h3>Number of Questions</h3>
                        <div class="option-buttons" id="questionButtons">
                            <button class="option-btn" onclick="selectQuestionCount(10)">10</button>
                            <button class="option-btn" onclick="selectQuestionCount(20)">20</button>
                            <button class="option-btn" onclick="selectQuestionCount(30)">30</button>
                            <button class="option-btn" onclick="selectQuestionCount(40)">40</button>
                            <button class="option-btn" onclick="selectQuestionCount(50)">50</button>
                        </div>
                    </div>

                    <div class="option-group">
                        <h3>Timer (Minutes)</h3>
                        <div class="option-buttons" id="timerButtons">
                            <button class="option-btn" onclick="selectTimer(5)">5</button>
                            <button class="option-btn" onclick="selectTimer(10)">10</button>
                            <button class="option-btn" onclick="selectTimer(15)">15</button>
                            <button class="option-btn" onclick="selectTimer(20)">20</button>
                            <button class="option-btn" onclick="selectTimer(30)">30</button>
                        </div>
                    </div>
                </div>

                <button class="btn" onclick="startTest()" style="margin-top: 30px;">Start Test</button>
                <button class="btn btn-secondary" onclick="backToCourses()">Back to Courses</button>
            </div>

            <div class="test-section" id="testSection">
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>

                <div class="question-container">
                    <div class="question-number" id="questionNumber">Question 1 of 10</div>
                    <div class="question-text" id="questionText"></div>
                    <div class="options" id="optionsContainer"></div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn">Previous</button>
                    <button class="btn" onclick="nextQuestion()" id="nextBtn">Next</button>
                </div>
            </div>

            <div class="results-section" id="resultsSection">
                <div class="results-summary">
                    <h2 style="color: #333; margin-bottom: 20px;">Test Completed! üéâ</h2>
                    
                    <div class="score-circle">
                        <div>
                            <span id="scorePercentage">0</span>%
                            <div class="score-label">Score</div>
                        </div>
                    </div>

                    <div class="results-details">
                        <div class="result-card">
                            <h4>Correct Answers</h4>
                            <p id="correctCount" style="color: #4caf50;">0</p>
                        </div>
                        <div class="result-card">
                            <h4>Wrong Answers</h4>
                            <p id="wrongCount" style="color: #f44336;">0</p>
                        </div>
                        <div class="result-card">
                            <h4>Total Questions</h4>
                            <p id="totalCount" style="color: #667eea;">0</p>
                        </div>
                    </div>

                    <button class="btn btn-tertiary" onclick="showReview()" style="margin-top: 30px;">Review Answers</button> 
                    <button class="btn" onclick="backToCourses()" style="margin-top: 10px;">Take Another Test</button>
                </div>
            </div>

            <div class="review-section" id="reviewSection">
                <h2 style="text-align: center; margin-bottom: 30px; color: #333;">Detailed Answer Review</h2>
                <div id="reviewContent">
                    </div>
                <button class="btn btn-secondary" onclick="showSection('resultsSection')" style="margin-top: 30px;">Back to Summary</button>
                <button class="btn" onclick="backToCourses()" style="margin-top: 10px;">Take Another Test</button>
            </div>


            <div class="history-section" id="historySection">
                <h2 style="text-align: center; margin-bottom: 30px; color: #333;">Your Test History</h2>
                
                <div id="historyContent">
                    <div class="loading">Loading history...</div>
                </div>

                <button class="btn btn-secondary" onclick="backToCourses()" style="margin-top: 30px;">Back to Courses</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // --- 1. CONFIGURATION AND INITIALIZATION ---

        // ‚ö†Ô∏è REPLACE WITH YOUR ACTUAL FIREBASE CONFIGURATION
        const firebaseConfig = {
            apiKey: "AIzaSyC5uF795h9jkPmVFu_-jS7npbrFIHSZ26E",
            authDomain: "fudma-cbt-portal.firebaseapp.com",
            projectId: "fudma-cbt-portal",
            storageBucket: "fudma-cbt-portal.firebasestorage.app",
            messagingSenderId: "587587261232",
            appId: "1:587587261232:web:73ba6ded2879d94f03aef5"
        };

        // Initialize Firebase
        let auth, db;
        try {
            const firebaseApp = firebase.initializeApp(firebaseConfig);
            auth = firebase.auth();
            db = firebase.firestore();
            console.log("Firebase initialized successfully.");
        } catch (error) {
            console.error("Firebase initialization error:", error);
            alert("Firebase is not configured correctly. Check the console for details.");
        }

        // Question Bank
        const questionBank = {
            COS101: [
                {q: "Who is considered the father of computing?", options: ["Charles Babbage", "Alan Turing", "John von Neumann", "Bill Gates"], correct: 0},
                {q: "What does ENIAC stand for?", options: ["Electronic Numerical Integrator and Calculator", "Electronic Network Integration", "Enhanced Numerical Integration", "Electronic Number Calculator"], correct: 0},
                {q: "Which generation of computers used vacuum tubes?", options: ["First Generation", "Second Generation", "Third Generation", "Fourth Generation"], correct: 0},
                {q: "Transistors were introduced in which generation?", options: ["First", "Second", "Third", "Fourth"], correct: 1},
                {q: "What technology characterized third generation computers?", options: ["Vacuum tubes", "Transistors", "Integrated Circuits", "Microprocessors"], correct: 2},
                {q: "Microprocessors were introduced in which generation?", options: ["Second", "Third", "Fourth", "Fifth"], correct: 2},
                {q: "What does AI stand for?", options: ["Automated Intelligence", "Artificial Intelligence", "Advanced Integration", "Automated Integration"], correct: 1},
                {q: "The first commercial computer was?", options: ["ENIAC", "UNIVAC I", "IBM 701", "EDVAC"], correct: 1},
                {q: "Who invented the World Wide Web?", options: ["Bill Gates", "Steve Jobs", "Tim Berners-Lee", "Mark Zuckerberg"], correct: 2},
                {q: "What year was the first personal computer introduced?", options: ["1971", "1975", "1981", "1985"], correct: 1},
                {q: "VLSI stands for?", options: ["Very Large Scale Integration", "Very Low Speed Integration", "Virtual Large Scale Integration", "Visible Integration"], correct: 0},
                {q: "Who is known as the first computer programmer?", options: ["Charles Babbage", "Ada Lovelace", "Alan Turing", "John von Neumann"], correct: 1},
                {q: "What does IBM stand for?", options: ["International Business Machines", "Internet Business Machines", "International Binary Machines", "Internet Binary Machines"], correct: 0},
                {q: "CPU stands for?", options: ["Central Processing Unit", "Computer Processing Unit", "Central Program Unit", "Computer Program Unit"], correct: 0},
                {q: "RAM stands for?", options: ["Random Access Memory", "Read Access Memory", "Random Array Memory", "Read Array Memory"], correct: 0},
                {q: "ROM stands for?", options: ["Random Only Memory", "Read Only Memory", "Random Order Memory", "Read Order Memory"], correct: 1},
                {q: "What is the brain of the computer?", options: ["RAM", "ROM", "CPU", "Hard Drive"], correct: 2},
                {q: "What does GUI stand for?", options: ["Graphical User Interface", "General User Interface", "Graphical Universal Interface", "General Universal Interface"], correct: 0},
                {q: "What is the smallest unit of data?", options: ["Byte", "Bit", "Nibble", "Word"], correct: 1},
                {q: "How many bits are in a byte?", options: ["4", "8", "16", "32"], correct: 1},
                {q: "What does HTML stand for?", options: ["HyperText Markup Language", "HyperText Machine Language", "HighText Markup Language", "HyperText Modern Language"], correct: 0},
                {q: "What does URL stand for?", options: ["Universal Resource Locator", "Uniform Resource Locator", "Universal Reference Locator", "Uniform Reference Locator"], correct: 1},
                {q: "What is an operating system?", options: ["Application software", "System software", "Hardware", "Firmware"], correct: 1},
                {q: "Examples of operating systems include?", options: ["MS Word", "Windows", "Chrome", "Excel"], correct: 1},
                {q: "What does HTTP stand for?", options: ["HyperText Transfer Protocol", "HyperText Translation Protocol", "HighText Transfer Protocol", "HyperText Transmission Protocol"], correct: 0},
                {q: "What is a browser?", options: ["Operating system", "Application for accessing web", "Programming language", "Database"], correct: 1},
                {q: "Examples of browsers include?", options: ["Windows", "Chrome", "Linux", "Android"], correct: 1},
                {q: "What is a computer virus?", options: ["Hardware problem", "Malicious software", "Operating system", "Printer error"], correct: 1},
                {q: "What is software?", options: ["Physical components", "Programs and data", "Monitor", "Keyboard"], correct: 1},
                {q: "What is hardware?", options: ["Programs", "Physical components", "Data", "Files"], correct: 1},
                {q: "Input devices include?", options: ["Monitor", "Keyboard", "Printer", "Speaker"], correct: 1},
                {q: "Output devices include?", options: ["Mouse", "Scanner", "Monitor", "Microphone"], correct: 2},
                {q: "What does LAN stand for?", options: ["Local Area Network", "Large Area Network", "Limited Area Network", "Long Area Network"], correct: 0},
                {q: "What does WAN stand for?", options: ["Wide Area Network", "Wireless Area Network", "World Area Network", "Web Area Network"], correct: 0},
                {q: "What is the purpose of a compiler?", options: ["Run programs", "Translate code", "Store data", "Display output"], correct: 1},
                {q: "What is an algorithm?", options: ["Programming language", "Step-by-step procedure", "Computer hardware", "Software application"], correct: 1},
                {q: "Binary system uses how many digits?", options: ["2", "8", "10", "16"], correct: 0},
                {q: "Hexadecimal system uses how many digits?", options: ["2", "8", "10", "16"], correct: 3},
                {q: "What is a database?", options: ["Hardware device", "Organized data collection", "Programming language", "Operating system"], correct: 1},
                {q: "SQL stands for?", options: ["Standard Query Language", "Structured Query Language", "Simple Query Language", "System Query Language"], correct: 1},
                {q: "What is cloud computing?", options: ["Local storage", "Internet-based computing", "Hardware upgrade", "Software installation"], correct: 1},
                {q: "What is an IP address?", options: ["Internet Protocol address", "Internal Processing address", "Internet Processing address", "Internal Protocol address"], correct: 0},
                {q: "What does PDF stand for?", options: ["Portable Document Format", "Public Document Format", "Private Document Format", "Personal Document Format"], correct: 0},
                {q: "What is encryption?", options: ["Data compression", "Data security method", "Data deletion", "Data backup"], correct: 1},
                {q: "What is a firewall?", options: ["Hardware component", "Security system", "Software application", "Network cable"], correct: 1},
                {q: "What does USB stand for?", options: ["Universal Serial Bus", "Universal System Bus", "United Serial Bus", "United System Bus"], correct: 0},
                {q: "What is bandwidth?", options: ["Data transfer rate", "Storage capacity", "Processing speed", "Screen resolution"], correct: 0},
                {q: "What is malware?", options: ["Good software", "Malicious software", "System software", "Application software"], correct: 1},
                {q: "What is phishing?", options: ["Cyber attack method", "Programming technique", "Hardware issue", "Software update"], correct: 0},
                {q: "What does VPN stand for?", options: ["Virtual Private Network", "Virtual Public Network", "Visual Private Network", "Visual Public Network"], correct: 0}
            ],
                        PHY101: [
    {q: "What is the SI unit of force?", options: ["Joule", "Newton", "Watt", "Pascal"], correct: 1},
    {q: "What is the acceleration due to gravity?", options: ["9.8 m/s¬≤", "10 m/s¬≤", "8.9 m/s¬≤", "11 m/s¬≤"], correct: 0},
    {q: "Newton's first law is also known as?", options: ["Law of inertia", "Law of acceleration", "Law of action", "Law of momentum"], correct: 0},
    {q: "What is the formula for kinetic energy?", options: ["mgh", "1/2 mv¬≤", "mv", "Fd"], correct: 1},
    {q: "What is the SI unit of work?", options: ["Newton", "Joule", "Watt", "Pascal"], correct: 1},
    {q: "Power is defined as?", options: ["Work/Time", "Force√óDistance", "Mass√óVelocity", "Force√óTime"], correct: 0},
    {q: "What is momentum?", options: ["Mass√óVelocity", "Mass√óAcceleration", "Force√óTime", "Work/Time"], correct: 0},
    {q: "The SI unit of pressure is?", options: ["Newton", "Pascal", "Joule", "Watt"], correct: 1},
    {q: "What is the speed of light?", options: ["3√ó10‚Å∏ m/s", "3√ó10‚Å∂ m/s", "3√ó10‚Å∑ m/s", "3√ó10‚Åπ m/s"], correct: 0},
    {q: "Which law states F = ma?", options: ["Newton's First Law", "Newton's Second Law", "Newton's Third Law", "Law of Gravitation"], correct: 1},
    {q: "Which of the following is a fundamental physical quantity?", options: ["Velocity", "Pressure", "Mass", "Force"], correct: 2},
    {q: "Which unit is used to measure luminous intensity in the SI system?", options: ["Lux", "Lumen", "Candela", "Watt"], correct: 2},
    {q: "Which of the following is a derived quantity?", options: ["Time", "Length", "Mass", "Velocity"], correct: 3},
    {q: "The SI unit of pressure is:", options: ["Pascal", "Newton", "Joule", "Watt"], correct: 0},
    {q: "Which of the following is not a base unit in the SI system?", options: ["Kilogram", "Second", "Radian", "Mole"], correct: 2},
    {q: "Which of the following quantities is dimensionless?", options: ["Acceleration", "Strain", "Force", "Pressure"], correct: 1},
    {q: "The unit of electric charge is:", options: ["Ampere", "Coulomb", "Volt", "Ohm"], correct: 1},
    {q: "Which of the following is not a correct pair of unit and quantity?", options: ["Hertz ‚Äì Frequency", "Tesla ‚Äì Magnetic flux", "Farad ‚Äì Capacitance", "Watt ‚Äì Power"], correct: 1},
    {q: "Which of the following is a correct dimensional formula for pressure?", options: ["ML‚Åª¬πT‚Åª¬≤", "MLT‚Åª¬≤", "MLT‚Åª¬π", "M¬≤L¬≤T‚Åª¬≤"], correct: 0},
    {q: "Which of the following is a unit of energy?", options: ["Watt", "Joule", "Newton", "Pascal"], correct: 1},
    {q: "Which of the following is the SI unit for electric potential difference?", options: ["Ampere", "Coulomb", "Volt", "Ohm"], correct: 2},
    {q: "The unit of magnetic flux is:", options: ["Tesla", "Weber", "Henry", "Farad"], correct: 1},
    {q: "Which of the following is not a derived unit with a special name?", options: ["Newton", "Joule", "Kilogram", "Pascal"], correct: 2},
    {q: "Which is the dimensional formula for acceleration?", options: ["LT‚Åª¬≤", "L¬≤T‚Åª¬≤", "MT‚Åª¬≤", "MLT‚Åª¬π"], correct: 0},
    {q: "The SI unit of power is:", options: ["Joule", "Watt", "Newton", "Volt"], correct: 1},
    {q: "Which is the dimensional formula for surface tension?", options: ["MT‚Åª¬≤", "ML‚Åª¬πT‚Åª¬≤", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≤"], correct: 0},
    {q: "Which is the dimensional formula for coefficient of viscosity?", options: ["ML‚Åª¬πT‚Åª¬π", "MLT‚Åª¬≤", "MLT‚Åª¬π", "ML¬≤T‚Åª¬≤"], correct: 0},
    {q: "Dimensional formula for universal gravitational constant is:", options: ["M‚Åª¬πL¬≥T‚Åª¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≤", "M¬≤L‚Åª¬≤T‚Åª¬≤"], correct: 0},
    {q: "Unit of specific heat capacity is:", options: ["Jkg‚Åª¬πK‚Åª¬π", "Jm‚Åª¬πK‚Åª¬π", "JkgK", "JmK‚Åª¬π"], correct: 0},
    {q: "Which of the following is not a correct dimensional formula?", options: ["Electric charge ‚Äì TI", "Electric resistance ‚Äì ML¬≤T‚Åª¬≥I‚Åª¬≤", "Electric field ‚Äì MLT‚Åª¬≥I‚Åª¬π", "Capacitance ‚Äì M‚Åª¬πL‚Åª¬≤T‚Å¥I¬≤"], correct: 0},
    {q: "Dimensional formula for inductance is:", options: ["ML¬≤T‚Åª¬≤I‚Åª¬≤", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≥", "M‚Åª¬πL¬≤T¬≤"], correct: 0},
    {q: "Dimensional formula for magnetic field strength is:", options: ["L‚Åª¬πI", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≥"], correct: 0},
    {q: "Dimensional formula for electric power is:", options: ["ML¬≤T‚Åª¬≥", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≥"], correct: 0},
    {q: "Dimensional formula of capacitance is:", options: ["M‚Åª¬πL‚Åª¬≤T‚Å¥I¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≤", "ML‚Åª¬πT‚Åª¬≤"], correct: 0},
    {q: "Dimensional formula for electric potential is:", options: ["ML¬≤T‚Åª¬≥I‚Åª¬π", "MLT‚Åª¬≤", "ML¬≤T‚Åª¬≤", "MLT‚Åª¬≥"], correct: 0},
    {q: "Which is a scalar quantity?", options: ["Force", "Acceleration", "Pressure", "Displacement"], correct: 2},
    {q: "Which is a vector quantity?", options: ["Time", "Mass", "Velocity", "Temperature"], correct: 2},
    {q: "A unit vector has a magnitude of:", options: ["0", "1", "‚àö2", "Undefined"], correct: 1},
    {q: "The cross product of i-hat √ó j-hat is:", options: ["i-hat", "j-hat", "k-hat", "0"], correct: 2},
    {q: "The dot product of i-hat ¬∑ i-hat is:", options: ["0", "1", "-1", "k-hat"], correct: 1},
    {q: "If A = 3i-hat + 2j-hat and B = 2i-hat + 4j-hat, then A + B =", options: ["5i-hat + 6j-hat", "1i-hat - 2j-hat", "6i-hat + 8j-hat", "3i-hat + 2j-hat"], correct: 0},
    {q: "If A = 5i-hat - 3j-hat and B = 2i-hat + 4j-hat, then A - B =", options: ["3i-hat - 7j-hat", "7i-hat + 1j-hat", "-3i-hat + 7j-hat", "3i-hat + 1j-hat"], correct: 0},
    {q: "Magnitude of vector A = 3i-hat + 4j-hat is:", options: ["5", "7", "1", "25"], correct: 0},
    {q: "Dot product of two perpendicular vectors is:", options: ["1", "0", "-1", "Undefined"], correct: 1},
    {q: "Cross product of two parallel vectors is:", options: ["Maximum", "Zero", "Negative", "Undefined"], correct: 1},
    {q: "If A = 2i + 3j + k and B = -4i + 2j - k, what is A ¬∑ B?", options: ["-3", "3", "0", "5"], correct: 0},
    {q: "The angle between vectors is found using:", options: ["A √ó B", "A + B", "A ¬∑ B", "A - B"], correct: 2},
    {q: "If A = 2i - j + k and B = i + 2j - 2k, then A √ó B =", options: ["5j + 5k", "-j + 3k", "5j - 5k", "5j + k"], correct: 2},
    {q: "Magnitude of A √ó B is:", options: ["AB cosŒ∏", "AB sinŒ∏", "A + B", "A - B"], correct: 1},
    {q: "Which is true about vector addition?", options: ["It is not associative", "It is not commutative", "It is both associative and commutative", "It is only distributive"], correct: 2}
],
                        CSC101: [
                // (Existing 8 CSC101 questions)                        
                {q: "What does PC stand for?", options: ["Personal Computer", "Public Computer", "Private Computer", "Professional Computer"], correct: 0},
                {q: "The motherboard is?", options: ["Main circuit board", "Power supply", "Storage device", "Display unit"], correct: 0},
                {q: "BIOS stands for?", options: ["Basic Input Output System", "Binary Input Output System", "Basic Internal Operating System", "Binary Internal Operating System"], correct: 0},
                {q: "What is the function of RAM?", options: ["Temporary storage", "Permanent storage", "Processing", "Display"], correct: 0},
                {q: "Hard disk is a?", options: ["Storage device", "Input device", "Output device", "Processing unit"], correct: 0},
                {q: "SSD stands for?", options: ["Solid State Drive", "Super Storage Drive", "System State Drive", "Solid Storage Device"], correct: 0},
                {q: "What is the purpose of a power supply?", options: ["Provide electricity", "Store data", "Process information", "Display output"], correct: 0},
                {q: "GPU stands for?", options: ["Graphics Processing Unit", "General Processing Unit", "Graphics Program Unit", "General Program Unit"], correct: 0},
                // (New 42 CSC101 questions added below)
                {q: "Which of the following best describes the IPO model of computing?", options: ["Input-Program-Output", "Input-Process-Output", "Instruction-Processing-Operation", "Input-Peripheral-Output"], correct: 1},
                {q: "What is the primary distinction between data and information?", options: ["Data is processed; information is raw", "Data is always numeric; information is textual", "Data is raw; information is processed and meaningful", "Data is stored; information is deleted"], correct: 2},
                {q: "Which method of data processing is most prone to human error?", options: ["Mechanical", "Manual", "Computerized", "Automated"], correct: 1},
                {q: "What is a major limitation of mechanical data processing?", options: ["Requires programming", "Cannot be used in offices", "Noisy and error-prone", "Too fast for human use"], correct: 2},
                {q: "When was the first microcomputer introduced?", options: ["1965", "1975", "1985", "1995"], correct: 1},
                {q: "Which of the following is NOT a benefit of electronic data processing?", options: ["Speed", "Accuracy", "Manual entry", "Reliability"], correct: 2},
                {q: "A program is best defined as:", options: ["A type of hardware", "A sequence of instructions", "A data storage unit", "A peripheral device"], correct: 1},
                {q: "Which of the following is an example of Computer-Aided Instruction (CAI)?", options: ["ATM machine", "Smart board", "Antivirus software", "BIOS"], correct: 1},
                {q: "Expert systems like MYCIN are used in:", options: ["Education", "Entertainment", "Medical diagnosis", "Gaming"], correct: 2},
                {q: "CAD is primarily used in:", options: ["Banking", "Industrial design", "Education", "Communication"], correct: 1},
                {q: "Computers in automobiles help by:", options: ["Increasing engine size", "Reducing tire wear", "Regulating fuel flow", "Enhancing paint quality"], correct: 2},
                {q: "Which of the following is a military application of computers?", options: ["Payroll", "Missile control", "Online shopping", "Word processing"], correct: 1},
                {q: "Which banking service is enabled by computers?", options: ["Manual ledger entry", "ATM transactions", "Handwritten checks", "Paper-based statements"], correct: 1},
                {q: "Which technology allows real-time video communication?", options: ["Email", "Telnet", "Video conferencing", "FTP"], correct: 2},
                {q: "Which characteristic ensures a computer performs tasks without fatigue?", options: ["Speed", "Reliability", "Flexibility", "Storage"], correct: 1},
                {q: "Why is RAM considered volatile?", options: ["It stores permanent data", "It loses data when power is off", "It is read-only", "It is used for backups"], correct: 1},
                {q: "ROM differs from RAM because it:", options: ["Is faster", "Is volatile", "Stores permanent instructions", "Can be erased easily"], correct: 2},
                {q: "SSDs are more shock-resistant than HDDs because they:", options: ["Are heavier", "Use magnetic disks", "Have no moving parts", "Are made of metal"], correct: 2},
                {q: "Which component connects all hardware in a computer?", options: ["CPU", "RAM", "Motherboard", "SSD"], correct: 2},
                {q: "Which computer type is used for nuclear simulations?", options: ["Microcomputer", "Mainframe", "Supercomputer", "Workstation"], correct: 2},
                {q: "Mainframe computers are typically used by:", options: ["Freelancers", "Small businesses", "Large organizations", "Students"], correct: 2},
                {q: "Workstations are ideal for:", options: ["Word processing", "CAD applications", "Email", "Browsing"], correct: 1},
                {q: "Microcontrollers are best suited for:", options: ["Data centers", "Embedded systems", "Gaming", "Cloud computing"], correct: 1},
                {q: "Capacitive touchscreens detect input through:", options: ["Pressure", "Heat", "Electrical conductivity", "Light"], correct: 2},
                {q: "Which input device is best for digital drawing?", options: ["Mouse", "Keyboard", "Graphics tablet", "Scanner"], correct: 2},
                {q: "A plotter is primarily used for:", options: ["Printing receipts", "Drawing vector graphics", "Scanning documents", "Playing music"], correct: 1},
                {q: "The PSU converts:", options: ["Data to information", "Software to hardware", "AC to DC power", "RAM to ROM"], correct: 2},
                {q: "The CMOS battery powers:", options: ["RAM", "Hard drive", "BIOS settings", "Monitor"], correct: 2},
                {q: "Voltage regulators are used to:", options: ["Increase CPU speed", "Maintain stable voltage", "Cool the system", "Store data"], correct: 1},
                {q: "NICs are essential for:", options: ["Data storage", "Network connectivity", "Power supply", "Audio output"], correct: 1},
                {q: "Ethernet cables transmit data using:", options: ["Light", "Sound", "Electrical signals", "Infrared"], correct: 2},
                {q: "Routers are used to:", options: ["Store data", "Connect networks", "Print documents", "Scan files"], correct: 1},
                {q: "Switches help in:", options: ["Reducing network congestion", "Increasing voltage", "Cooling the CPU", "Formatting hard drives"], correct: 0},
                {q: "Patch panels are used for:", options: ["Data encryption", "Cable management", "Power regulation", "Audio output"], correct: 1},
                {q: "Crimping tools are used to:", options: ["Cut wires", "Attach connectors", "Measure voltage", "Test speed"], correct: 1},
                {q: "Powerline adapters use:", options: ["Fiber optics", "Wireless signals", "Electrical wiring", "Infrared beams"], correct: 2},
                {q: "GPUs are optimized for:", options: ["Serial processing", "Arithmetic only", "Parallel processing", "Data storage"], correct: 2},
                {q: "Buffer memory in switches helps with:", options: ["Cooling", "Data backup", "Traffic management", "Encryption"], correct: 2},
                {q: "Heat sinks are used to:", options: ["Store heat", "Prevent overheating", "Increase voltage", "Reduce noise"], correct: 1},
                {q: "Lithium batteries are used in CMOS because they:", options: ["Are rechargeable", "Last long", "Are heavy", "Are magnetic"], correct: 1},
                {q: "Which component translates user input into machine signals?", options: ["Monitor", "CPU", "Keyboard", "RAM"], correct: 2},
                {q: "Graphics tablets offer better precision than touchscreens because they:", options: ["Use styluses", "Are larger", "Are wireless", "Have screens"], correct: 0},
                {q: "Mechanical data processing is not scalable because:", options: ["It is too fast", "It is manual", "It is expensive", "It is digital"], correct: 1},
                {q: "Automated data processing is preferred in:", options: ["Small offices", "High-volume environments", "Manual accounting", "Handwritten reports"], correct: 1},
                {q: "Classification in data processing involves:", options: ["Deleting data", "Grouping data", "Encrypting data", "Transmitting data"], correct: 1},
                {q: "Barcodes and scanners improve inventory by:", options: ["Increasing shelf life", "Reducing product cost", "Automating tracking", "Enhancing display"], correct: 2},
                {q: "Computer-aided instruction impacts teaching by:", options: ["Replacing teachers", "Making learning interactive", "Reducing student numbers", "Limiting access"], correct: 1},
                {q: "A computer‚Äôs flexibility means it can:", options: ["Only run one program", "Perform logical tasks", "Be used only in offices", "Store unlimited data"], correct: 1},
                {q: "Interface connectors on a motherboard are used to:", options: ["Increase RAM", "Connect peripherals", "Cool the CPU", "Store programs"], correct: 1},
                {q: "Accuracy in computing ensures:", options: ["Faster typing", "Reliable results", "More storage", "Better graphics"], correct: 1}
            ],
                        MTH101: [
    {q: "What is 2 + 2?", options: ["3", "4", "5", "6"], correct: 1},
    {q: "What is 5 √ó 3?", options: ["15", "8", "12", "20"], correct: 0},
    {q: "What is 10 √∑ 2?", options: ["5", "8", "2", "20"], correct: 0},
    {q: "What is 8 - 3?", options: ["5", "11", "4", "6"], correct: 0},
    {q: "Square root of 16?", options: ["4", "8", "2", "16"], correct: 0},
    {q: "What is 2¬≥?", options: ["6", "8", "9", "4"], correct: 1},
    {q: "What is 50% of 100?", options: ["50", "25", "75", "100"], correct: 0},
    {q: "What is the value of œÄ (pi)?", options: ["3.14", "2.71", "1.41", "1.73"], correct: 0},
    {q: "Which of the following best defines a set?", options: ["A group of repeated elements", "A collection of random objects", "A collection of well-defined and distinct objects", "A list of infinite numbers"], correct: 2},
    {q: "What does the notation a ‚àà A signify?", options: ["a is not in set A", "a is a subset of A", "a is an element of set A", "a is equal to A"], correct: 2},
    {q: "Which of the following is a proper subset?", options: ["{1, 2, 3} = {1, 2, 3}", "{2, 4} ‚äÜ {2, 4, 6}", "{a, b} ‚äá {a, b, c}", "{x, y, z} = {z, y, x, x}"], correct: 1},
    {q: "Two sets A and B are equal if:", options: ["A ‚äÜ B only", "B ‚äÜ A only", "A ‚à© B = ‚àÖ", "A ‚äÜ B and B ‚äÜ A"], correct: 3},
    {q: "Which of the following is an empty set?", options: ["{0}", "{x: x is a prime number less than 2}", "{1, 2, 3}", "{x: x is even and odd}"], correct: 3},
    {q: "The union of sets A and B includes:", options: ["Only elements in A", "Only elements in B", "Elements in both A and B", "Elements in A or B or both"], correct: 3},
    {q: "The intersection of two sets A and B is defined as:", options: ["A ‚à™ B", "A \\ B", "A ‚à© B", "A ‚äÜ B"], correct: 2},
    {q: "The complement of a set A includes:", options: ["Elements in A", "Elements not in A", "Elements in A ‚à© B", "Elements in A ‚à™ B"], correct: 1},
    {q: "If A = {1, 2, 3} and B = {3, 4, 5}, then A \\ B is:", options: ["{3}", "{1, 2}", "{4, 5}", "{1, 2, 4, 5}"], correct: 1},
    {q: "The symmetric difference A Œî B is equivalent to:", options: ["A ‚à© B", "A ‚à™ B", "(A \\ B) ‚à™ (B \\ A)", "A ‚äÜ B"], correct: 2},
    {q: "Two sets are disjoint if:", options: ["A ‚à™ B = ‚àÖ", "A ‚à© B = ‚àÖ", "A = B", "A ‚äÜ B"], correct: 1},
    {q: "The cardinality of the set {a, b, c, d} is:", options: ["3", "4", "5", "0"], correct: 1},
    {q: "Which of the following is a Venn diagram used to represent?", options: ["Only finite sets", "Only infinite sets", "Set operations", "Number lines"], correct: 2},
    {q: "Which of the following is true about the identity law in set theory?", options: ["A ‚à™ ‚àÖ = ‚àÖ", "A ‚à© ‚àÖ = A", "A ‚à™ ‚àÖ = A", "A ‚à© U = ‚àÖ"], correct: 2},
    {q: "According to De Morgan‚Äôs Law, (A ‚à™ B)·∂ú equals:", options: ["A·∂ú ‚à™ B·∂ú", "A·∂ú ‚à© B·∂ú", "A·∂ú", "B·∂ú"], correct: 1},
    {q: "Which of the following sets is finite?", options: ["{x: x ‚àà N and x < 100}", "{x: x is a real number}", "{x: x is irrational}", "{x: x ‚àà Z}"], correct: 0},
    {q: "A set is countable if:", options: ["It is infinite and unstructured", "It has no elements", "It can be listed in a sequence", "It contains only real numbers"], correct: 2},
    {q: "Which of the following is an uncountable set?", options: ["N", "Q", "{1, 2, 3}", "R"], correct: 3},
    {q: "Which of the following is a rational number?", options: ["‚àö2", "œÄ", "3/4", "e"], correct: 2},
    {q: "Which of the following is an irrational number?", options: ["1/2", "0.25", "‚àö3", "4"], correct: 2},
    {q: "The set of complex numbers is denoted by:", options: ["R", "Q", "C", "Z"], correct: 2},
    {q: "The imaginary unit i is defined as:", options: ["‚àö1", "‚àö0", "‚àö‚àí1", "-1"], correct: 2},
    {q: "Which of the following is a composite number?", options: ["2", "3", "5", "6"], correct: 3},
    {q: "Which of the following is NOT a property of mathematical induction?", options: ["Base case", "Inductive step", "Contrapositive", "Generalization"], correct: 2},
    {q: "The sum of the first n natural numbers is given by:", options: ["n(n - 1)/2", "n(n + 1)/2", "n¬≤", "n + 1"], correct: 1},
    {q: "Which of the following is a sequence?", options: ["{1, 2, 3, 4}", "1 + 2 + 3 + 4", "a‚ÇÅ, a‚ÇÇ, a‚ÇÉ,...", "1, 2, 3, 4, 5"], correct: 2},
    {q: "The general term of the sequence 1, 3, 5, 7,... is:", options: ["a‚Çô = n + 1", "a‚Çô = 2n", "a‚Çô = 2n - 1", "a‚Çô = n¬≤"], correct: 2},
    {q: "The sequence 1, 4, 9, 16,... has a general term:", options: ["a‚Çô = n", "a‚Çô = 2n", "a‚Çô = n¬≤", "a‚Çô = 2n + 1"], correct: 2},
    {q: "A series is defined as:", options: ["A list of numbers", "A set of elements", "A sum of sequence terms", "A product of numbers"], correct: 2},
    {q: "Which of the following is an arithmetic progression?", options: ["1, 2, 4, 8", "2, 4, 6, 8", "1, 3, 6, 10", "1, 4, 9, 16"], correct: 1},
    {q: "The nth term of an A.P. is given by:", options: ["T‚Çô = a √ó r‚Åø", "T‚Çô = a + (n - 1)d", "T‚Çô = a - d", "T‚Çô = a + nd"], correct: 1},
    {q: "The sum of the first n terms of an A.P. is:", options: ["S‚Çô = n/2 [2a + (n - 1)d]", "S‚Çô = a + nd", "S‚Çô = a √ó r‚Åø", "S‚Çô = n(a + d)"], correct: 0},
    {q: "Which of the following is a geometric progression?", options: ["1, 2, 3, 4", "2, 4, 8, 16", "1, 3, 5, 7", "1, 4, 9, 16"], correct: 1},
    {q: "The nth term of a G.P. is given by:", options: ["T‚Çô = a + (n - 1)d", "T‚Çô = a √ó r‚Åø‚Åª¬π", "T‚Çô = a √ó n", "T‚Çô = a + r"], correct: 1},
    {q: "Which of the following sequences has a common ratio of -2?", options: ["1, -2, 4, -8", "2, 4, 6, 8", "1, 3, 5, 7", "1, 2, 3, 4"], correct: 0},
    {q: "If a = 2 and r = 3, what is the 4th term of the G.P.?", options: ["18", "54", "24", "16"], correct: 1},
    {q: "Which of the following is NOT a property of sets?", options: ["Idempotent law", "Associative law", "Distributive law", "Transitive law"], correct: 3},
    {q: "Which of the following is true about the empty set ‚àÖ?", options: ["It contains one element", "It is infinite", "It is a subset of every set", "It is equal to the universal set"], correct: 2},
    {q: "The power set of {a, b} contains how many elements?", options: ["2", "3", "4", "5"], correct: 2},
    {q: "Which of the following is a unit set?", options: ["{}", "{a}", "{a, b}", "{{}}"], correct: 1},
    {q: "Which of the following is a correct representation of a set in set-builder notation?", options: ["{1, 2, 3}", "{x: x is even}", "{x ‚àà N: x > 5}", "{1, 2, 3, ...}"], correct: 1},
    {q: "What is the degree of the polynomial P(x) = 5x‚Å¥ - 2x¬≥ + 7x - 1?", options: ["1", "3", "4", "5"], correct: 2}
]

        };

        // Global State Variables
        let currentUser = null;
        let selectedCourse = null;
        let questionCount = 10;
        let timerMinutes = 5;
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let timerInterval = null;
        let timeRemaining = 0;


        // --- 2. AUTHENTICATION FUNCTIONS ---

        function showRegister() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        function showLogin() {
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
        }

        async function register() {
            const name = document.getElementById('regName').value.trim();
            const email = document.getElementById('regEmail').value.trim();
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;

            if (!name || !email || !password || !confirmPassword) return alert('Please fill all fields');
            if (password !== confirmPassword) return alert('Passwords do not match');
            if (password.length < 6) return alert('Password must be at least 6 characters');

            try {
                // 1. Create user in Firebase Auth
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                const user = userCredential.user;

                // 2. Save user profile to Firestore
                await db.collection('users').doc(user.uid).set({
                    name: name,
                    email: email,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });

                alert('Registration successful! Please login.');
                showLogin();
            } catch (error) {
                console.error('Registration error:', error);
                alert('Registration failed: ' + error.message);
            }
        }

        async function login() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) return alert('Please fill all fields');

            try {
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                const user = userCredential.user;

                // 1. Get user profile
                const userDoc = await db.collection('users').doc(user.uid).get();
                if (userDoc.exists) {
                    currentUser = {
                        uid: user.uid,
                        ...userDoc.data()
                    };
                    
                    document.getElementById('userName').textContent = currentUser.name;
                    await loadUserStats();
                    showSection('courseSelection');
                    document.getElementById('logoutBtn').style.display = 'block';
                    document.getElementById('historyBtn').style.display = 'block';
                } else {
                    alert('User profile not found. Data may be inconsistent.');
                }
            } catch (error) {
                console.error('Login error:', error);
                alert('Login failed: ' + error.message);
            }
        }

        // --- NEW PASSWORD RESET FUNCTION ---
        async function resetPassword() {
            const email = document.getElementById('loginEmail').value.trim();
            if (!email) {
                alert('Please enter your email address in the field above to reset your password.');
                return;
            }

            try {
                await auth.sendPasswordResetEmail(email);
                alert(`Password reset link sent to ${email}. Check your inbox (and spam folder)!`);
            } catch (error) {
                console.error('Password reset error:', error);
                alert('Error sending password reset email. Please ensure the email address is registered.');
            }
        }
        // --- END NEW PASSWORD RESET FUNCTION ---

        async function logout() {
            try {
                await auth.signOut();
                currentUser = null;
                showSection('authSection');
                document.getElementById('logoutBtn').style.display = 'none';
                document.getElementById('historyBtn').style.display = 'none';
                document.getElementById('timerDisplay').style.display = 'none'; // Hide timer
                resetTestState();
            } catch (error) {
                console.error('Logout error:', error);
                alert('Logout failed: ' + error.message);
            }
        }

        // --- 3. NAVIGATION & UI FUNCTIONS (UNCHANGED) ---

        function showSection(sectionId) {
            const sections = ['authSection', 'courseSelection', 'testConfig', 'testSection', 'resultsSection', 'historySection', 'reviewSection']; // Added reviewSection
            sections.forEach(id => {
                document.getElementById(id).classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
        }

        function selectCourse(courseCode) {
            selectedCourse = courseCode;
            document.getElementById('selectedCourseName').textContent = courseCode;
            resetConfigSelection(); // Reset buttons on course selection
            showSection('testConfig');
        }

        function resetConfigSelection() {
            // Remove 'selected' class from all config buttons
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            // Reset to default internal values
            questionCount = 10;
            timerMinutes = 5;
        }

        function selectQuestionCount(count) {
            questionCount = count;
            document.querySelectorAll('#questionButtons .option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            // Find and select the button that was clicked
            const button = Array.from(document.querySelectorAll('#questionButtons .option-btn')).find(b => parseInt(b.textContent) === count);
            if (button) button.classList.add('selected');
        }

        function selectTimer(minutes) {
            timerMinutes = minutes;
            document.querySelectorAll('#timerButtons .option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            // Find and select the button that was clicked
            const button = Array.from(document.querySelectorAll('#timerButtons .option-btn')).find(b => parseInt(b.textContent) === minutes);
            if (button) button.classList.add('selected');
        }

        function backToCourses() {
            resetTestState();
            loadUserStats(); // Reload stats on return
            showSection('courseSelection');
        }


        // --- 4. TEST LOGIC FUNCTIONS (UNCHANGED) ---

        function startTest() {
            if (!questionCount || !timerMinutes || !selectedCourse) {
                alert('Please ensure you have selected a course, number of questions, and a timer.');
                return;
            }

            const allQuestions = questionBank[selectedCourse];
            currentQuestions = [];
            const usedIndices = new Set();
            
            // Randomly select unique questions
            while (currentQuestions.length < Math.min(questionCount, allQuestions.length)) {
                const randomIndex = Math.floor(Math.random() * allQuestions.length);
                if (!usedIndices.has(randomIndex)) {
                    usedIndices.add(randomIndex);
                    currentQuestions.push(allQuestions[randomIndex]);
                }
            }

            userAnswers = new Array(currentQuestions.length).fill(null);
            currentQuestionIndex = 0;
            
            timeRemaining = timerMinutes * 60;
            
            showSection('testSection');
            document.getElementById('timerDisplay').style.display = 'block';
            startTimer();
            displayQuestion();
        }

        function startTimer() {
            updateTimerDisplay();
            if (timerInterval) clearInterval(timerInterval); // Clear any existing interval
            
            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    submitTest();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timerDisplay').textContent = 
                `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function displayQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            
            document.getElementById('questionNumber').textContent = 
                `Question ${currentQuestionIndex + 1} of ${currentQuestions.length}`;
            document.getElementById('questionText').textContent = question.q;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                if (userAnswers[currentQuestionIndex] === index) {
                    optionDiv.classList.add('selected');
                }
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(optionDiv);
            });

            // Update Progress Bar
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            // Update Navigation Buttons
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').textContent = 
                currentQuestionIndex === currentQuestions.length - 1 ? 'Submit' : 'Next';
        }

        function selectAnswer(answerIndex) {
            userAnswers[currentQuestionIndex] = answerIndex;
            displayQuestion(); // Re-render to show selection
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex === currentQuestions.length - 1) {
                submitTest();
            } else {
                currentQuestionIndex++;
                displayQuestion();
            }
        }

        async function submitTest() {
            clearInterval(timerInterval);
            document.getElementById('timerDisplay').style.display = 'none';

            let correct = 0;
            let wrong = 0;
            
            currentQuestions.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    correct++;
                } else {
                    wrong++;
                }
            });

            const percentage = Math.round((correct / currentQuestions.length) * 100);

            // Save test result to Firebase
            try {
                await db.collection('tests').add({
                    userId: currentUser.uid,
                    userName: currentUser.name,
                    course: selectedCourse,
                    totalQuestions: currentQuestions.length,
                    correct: correct,
                    wrong: wrong,
                    percentage: percentage,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                });

                console.log('Test result saved successfully');
            } catch (error) {
                console.error('Error saving test result:', error);
                alert('Could not save test result. Check console.');
            }

            // Display Results
            document.getElementById('scorePercentage').textContent = percentage;
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('wrongCount').textContent = wrong;
            document.getElementById('totalCount').textContent = currentQuestions.length;

            showSection('resultsSection');
        }

        function resetTestState() {
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            currentQuestions = [];
            currentQuestionIndex = 0;
            userAnswers = [];
            timeRemaining = 0;
        }

        // --- 5. REVIEW FUNCTION (UNCHANGED) ---

        function showReview() {
            if (currentQuestions.length === 0) return alert('No test data to review.');

            const reviewContent = document.getElementById('reviewContent');
            reviewContent.innerHTML = '';
            
            currentQuestions.forEach((question, index) => {
                const userChoice = userAnswers[index];
                const isCorrect = userChoice === question.correct;
                const statusClass = isCorrect ? 'correct' : 'wrong';

                let questionHTML = `
                    <div class="review-question ${statusClass}">
                        <h4>Question ${index + 1}: ${question.q}</h4>
                `;
                
                question.options.forEach((option, optionIndex) => {
                    let optionClass = 'review-option';
                    let prefix = '';
                    
                    if (optionIndex === question.correct) {
                        // This is the correct answer
                        optionClass += ' correct-answer';
                        prefix = '‚úÖ Correct Answer: ';
                    } else if (optionIndex === userChoice && !isCorrect) {
                        // This is the user's selected answer, and it was wrong
                        optionClass += ' user-wrong';
                        prefix = '‚ùå Your Wrong Answer: ';
                    } else if (optionIndex === userChoice && isCorrect) {
                         // This is the user's selected answer, and it was correct (use a slightly different look)
                        optionClass += ' correct-answer';
                        prefix = '‚úÖ Your Correct Answer: ';
                    }

                    questionHTML += `<div class="${optionClass}">${prefix}${option}</div>`;
                });

                questionHTML += '</div>';
                reviewContent.innerHTML += questionHTML;
            });

            showSection('reviewSection');
        }


        // --- 6. STATS AND HISTORY FUNCTIONS (UNCHANGED) ---
        
        async function loadUserStats() {
            if (!currentUser) return;
            try {
                // Fetch all tests for the current user
                const testsSnapshot = await db.collection('tests')
                    .where('userId', '==', currentUser.uid)
                    .get();

                const totalTests = testsSnapshot.size;
                let totalScore = 0;
                let highestScore = 0;

                testsSnapshot.forEach(doc => {
                    const data = doc.data();
                    const percentage = data.percentage || 0;
                    totalScore += percentage;
                    if (percentage > highestScore) {
                        highestScore = percentage;
                    }
                });

                const averageScore = totalTests > 0 ? Math.round(totalScore / totalTests) : 0;

                const statsHTML = `
                    <div class="stat-card">
                        <h3>Total Tests</h3>
                        <p>${totalTests}</p>
                    </div>
                    <div class="stat-card">
                        <h3>Average Score</h3>
                        <p>${averageScore}%</p>
                    </div>
                    <div class="stat-card">
                        <h3>Highest Score</h3>
                        <p>${highestScore}%</p>
                    </div>
                `;

                document.getElementById('userStats').innerHTML = statsHTML;
            } catch (error) {
                console.error('Error loading stats:', error);
            }
        }

        async function showHistory() {
            if (!currentUser) return;

            showSection('historySection');
            document.getElementById('historyContent').innerHTML = '<div class="loading">Loading history...</div>';

            try {
                const testsSnapshot = await db.collection('tests')
                    .where('userId', '==', currentUser.uid)
                    .orderBy('timestamp', 'desc')
                    .limit(20) // Limit to last 20 tests
                    .get();

                if (testsSnapshot.empty) {
                    document.getElementById('historyContent').innerHTML = 
                        '<p style="text-align: center; color: #666;">No test history yet. Take your first test!</p>';
                    return;
                }

                let tableHTML = `
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Course</th>
                                <th>Questions</th>
                                <th>Correct</th>
                                <th>Wrong</th>
                                <th>Score</th>
                            </tr>
                        </thead>
                        <tbody>
                `;

                testsSnapshot.forEach(doc => {
                    const data = doc.data();
                    // Convert Firestore Timestamp to local date string
                    const date = data.timestamp ? data.timestamp.toDate().toLocaleDateString('en-GB') : 'N/A';
                    tableHTML += `
                        <tr>
                            <td>${date}</td>
                            <td>${data.course}</td>
                            <td>${data.totalQuestions}</td>
                            <td style="color: #4caf50;">${data.correct}</td>
                            <td style="color: #f44336;">${data.wrong}</td>
                            <td style="font-weight: bold;">${data.percentage}%</td>
                        </tr>
                    `;
                });

                tableHTML += '</tbody></table>';
                document.getElementById('historyContent').innerHTML = tableHTML;
            } catch (error) {
                console.error('Error loading history:', error);
                document.getElementById('historyContent').innerHTML = 
                    '<p style="text-align: center; color: #f44336;">Error loading history. Please try again.</p>';
            }
        }

        // --- 7. INITIALIZATION & AUTH STATE LISTENER (UNCHANGED) ---

        // Firebase Auth listener to handle page reload/initial state
        auth.onAuthStateChanged(async (user) => {
            if (user) {
                // User is signed in. Load profile data.
                try {
                    const userDoc = await db.collection('users').doc(user.uid).get();
                    if (userDoc.exists) {
                        currentUser = {
                            uid: user.uid,
                            ...userDoc.data()
                        };
                        document.getElementById('userName').textContent = currentUser.name;
                        await loadUserStats();
                        showSection('courseSelection');
                        document.getElementById('logoutBtn').style.display = 'block';
                        document.getElementById('historyBtn').style.display = 'block';
                    } else {
                        // Profile missing, log out user for safety
                        console.error("User profile document missing.");
                        logout();
                    }
                } catch (error) {
                    console.error("Error fetching user data on startup:", error);
                    logout();
                }
            } else {
                // User is signed out.
                currentUser = null;
                showSection('authSection');
                document.getElementById('logoutBtn').style.display = 'none';
                document.getElementById('historyBtn').style.display = 'none';
                document.getElementById('timerDisplay').style.display = 'none';
            }
        });

    </script>
</body>
<script>
    document.addEventListener('click', function(e) {
        // Create 12 particles per click
        const particleCount = 12;
        
        for (let i = 0; i < particleCount; i++) {
            createSnowParticle(e.clientX, e.clientY);
        }
    });

    function createSnowParticle(x, y) {
        const particle = document.createElement('div');
        
        // Style the particle dynamically
        particle.style.position = 'fixed';
        particle.style.left = x + 'px';
        particle.style.top = y + 'px';
        particle.style.width = '8px';
        particle.style.height = '8px';
        particle.style.background = 'white';
        particle.style.borderRadius = '50%';
        particle.style.pointerEvents = 'none'; // Click through them
        particle.style.zIndex = '9999';
        particle.style.boxShadow = '0 0 10px white'; // Glow effect
        
        // Randomize movement direction
        const destinationX = (Math.random() - 0.5) * 200; // Move left/right
        const destinationY = (Math.random() - 0.5) * 200; // Move up/down
        const rotation = Math.random() * 520;
        const delay = Math.random() * 200;

        // Apply animation via Web Animations API (Smoother than CSS classes for dynamic coords)
        particle.animate([
            { transform: `translate(0, 0) scale(1)`, opacity: 1 },
            { transform: `translate(${destinationX}px, ${destinationY}px) scale(0)`, opacity: 0 }
        ], {
            duration: 1000 + delay,
            easing: 'cubic-bezier(0, .9, .57, 1)',
            delay: delay
        });

        document.body.appendChild(particle);

        // Remove particle from DOM after animation finishes
        setTimeout(() => {
            particle.remove();
        }, 1200 + delay);
    }
</script>
</html>
